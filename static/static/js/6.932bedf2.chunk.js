(this.webpackJsonpcointc=this.webpackJsonpcointc||[]).push([[6],{665:function(e,t,a){},666:function(e,t,a){},667:function(e,t,a){},739:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a(1),i=a(16),c=a(19),o=a(14),s=a(46),l=(a(357),a(23)),d=a(200),u=a(11);var v=a(74),j=a(222),b=a.n(j),m=(a(488),a(75)),p=a(41),h=a(52),O=a(762),f=a(214),x=function PageTitle(e){var t=e.motherMenu,a=e.activeMenu,n=e.pageContent,r=e.children,i=window.location.pathname.split("/");return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"row page-titles mx-0",children:[Object(u.jsx)("div",{className:"col-sm-6 p-md-0",children:n?Object(u.jsx)("div",{className:"",children:n||"Your business dashboard template"}):null}),Object(u.jsx)("div",{className:"col-sm-6 p-md-0 justify-content-sm-end mt-2 mt-sm-0 d-flex",children:Object(u.jsxs)("ol",{className:"breadcrumb",children:[Object(u.jsx)("li",{className:"breadcrumb-item",children:Object(u.jsx)(p.b,{to:"".concat(i[i.length-1]),children:t})}),Object(u.jsx)("li",{className:"breadcrumb-item active c",children:Object(u.jsx)(p.b,{to:"".concat(i[i.length-1]),children:a})})]})})]}),r]})},g=a(491);var y=function IdenticonAvatar(e){var t=e.id,a=void 0===t?"stranger":t,n=e.size,i=Object(r.useState)(null),c=Object(o.a)(i,1)[0],s=Object(r.useRef)(null);return Object(r.useEffect)((function(){try{g.generate({id:a,size:n},(function(e,t){if(e)throw e;s.current.src=t}))}catch(e){console.error(e)}})),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("img",{ref:s,src:c,alt:""})})},_=a(230),w={IdenticonAvatar:y,Empty:_.b},N=a(17),C=a(754),k=a(727),D=a(99),S=a(743),E=a(756),I=a(256),A=a(53);var R,F,B=function useTableSelector(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(r.useState)([]),a=Object(o.a)(t,2),n=a[0],i=a[1],c=Object(r.useState)(!1),s=Object(o.a)(c,2),l=s[0],d=s[1];function singleSelect(e){if(e){var t=n.findIndex((function(t){return t===e}));i(-1===t?[].concat(Object(A.a)(n),[e]):n.filter((function(t){return t!==e})))}}function bulkSelect(e){var t=e.map((function(e){return e.id}));n.length===e.length?i([]):i(t)}return Object(r.useEffect)((function(){n.length?d(n.length===(null===e||void 0===e?void 0:e.length)):d(!1)}),[n,d,e]),{toggleSelect:singleSelect,bulkSelect:bulkSelect,selected:n,checkedAll:l}},M=["item","value","idx","state"],T=Object(m.a)(S.a)(R||(R=Object(v.a)(["\n  p {\n    margin: 0 auto;\n    color: #a3a3a3;\n  }\n"]))),P=Object(m.a)("div")(F||(F=Object(v.a)(["\n  padding: 10px 12px;\n  margin: 8px 12px;\n  border-radius: 8px;\n  box-shadow: 0 0 2px 1px #5c5c5c33;\n"])));function TableGenerator(e){var t,a,i=e.service,c=void 0===i?{}:i,s=e.transformers,v=void 0===s?{}:s,j=e.mapping,b=void 0===j?{}:j,m=e.extras,p=void 0===m?[]:m,h=e.omit,O=void 0===h?[]:h,f=e.bulkActions,x=void 0!==f&&f,g=e.showSearch,y=void 0!==g&&g,w=e.intermediaryCallback,S=c.data,A=c._fromStack,R=c.retryDispatch,F=c.isFetching,L=c.dispatchRequest,q=Object(D.b)(10),U=Object(r.useState)({rows:[],fullRows:[],fullCols:[],cols:[],icb:[]}),Y=Object(o.a)(U,2),V=Y[0],H=Y[1],W=B(),z=W.selected,G=W.toggleSelect,$=W.bulkSelect,K=Object(r.useState)((null===S||void 0===S?void 0:S.count)||0),Z=Object(o.a)(K,2),J=Z[0],Q=Z[1],X=Object(r.useState)(0),ee=Object(o.a)(X,2),te=ee[0],ae=ee[1],ne=Object(r.useState)((null===S||void 0===S?void 0:S.limit)||10),re=Object(o.a)(ne,2),ie=re[0],ce=re[1];function TransformValue(e){var t=e.item,a=e.value,r=void 0===a?"":a,i=(e.idx,e.state,Object(N.a)(e,M));return String(t).toLowerCase()in v?v[t](Object(n.a)({item:t,value:r},i))||null:String(r)}Object(r.useEffect)((function(){if(S){var e;if(null!==S&&void 0!==S&&null!==(e=S.result)&&void 0!==e&&e.length){var t=function getMapping(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],a=null===e||void 0===e?void 0:e.map((function(e){w&&t.push(w(e));var a={};return Object.entries(Object(I.c)(e)).forEach((function(e){var t=Object(o.a)(e,2),n=t[0],r=t[1];return a[n]=r})),a})),n=Object.keys((null===e||void 0===e?void 0:e.length)&&e[0]).map((function(e){return e in b?b[e]:e}));return[null===e||void 0===e?void 0:e.map((function(e){var t={};return Object.entries(e).filter((function(e){var t=Object(o.a)(e,2),a=t[0];return t[1],!O.includes(a)})).forEach((function(e){return t[e[0]]=e[1]})),t})),Object.keys(e[0]).filter((function(e){return!O.includes(e)})).map((function(e){return e in b?b[e]:e})),a,n,t]}(null===S||void 0===S?void 0:S.result),a=Object(o.a)(t,5),n=a[0],r=a[1],i=a[2],c=a[3],s=a[4];H({rows:n,cols:r,fullRows:i,fullCols:c,icb:s})}Q(null===S||void 0===S?void 0:S.count),ce(null===S||void 0===S?void 0:S.limit)}}),[S]);var oe=Object(d.a)().t;return Object(u.jsxs)(u.Fragment,{children:[y&&Object(u.jsx)("div",{className:"",style:{maxWidth:500},children:Object(u.jsx)(TableSearch,{isFetching:F,onSearch:function onSearch(e){R(l.a.FIND,Object(n.a)(Object(n.a)({},function(){var e;return(null===(e=A[l.a.FIND])||void 0===e?void 0:e.payload)||{}}()),e))}})}),Object(u.jsxs)(C.a,{style:{position:"relative"},children:[Object(u.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:V.rows.length?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(k.a,{style:{flexGrow:"auto",margin:0},responsive:!0,hover:!0,size:"sm",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:Object(u.jsxs)("div",{className:"custom-control custom-checkbox mx-2",children:[Object(u.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"select_all_table_record#".concat(q),disabled:!x||!V.rows.length,checked:(null===z||void 0===z?void 0:z.length)===(null===(t=V.rows)||void 0===t?void 0:t.length),onChange:function onChange(){return $(V.rows)}}),Object(u.jsx)("label",{className:"custom-control-label",htmlFor:"select_all_table_record#".concat(q)})]})}),"*"!==String(O)&&(null===V||void 0===V||null===(a=V.cols)||void 0===a?void 0:a.map((function(e,t){var a;return Object(u.jsx)("th",{children:null===(a=String(e))||void 0===a?void 0:a.replace(/[_]/g," ")},t)}))),null===p||void 0===p?void 0:p.map((function(e,t){var a;return Object(u.jsx)("th",{children:null===(a=String(oe(e)))||void 0===a?void 0:a.replace(/[_]/g," ")},t)}))]})}),Object(u.jsx)("tbody",{children:V.rows.map((function(e,t){var a,n;return Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[" ",(n=null!==(a=null===e||void 0===e?void 0:e.id)&&void 0!==a?a:t,Object(u.jsxs)("div",{className:"custom-control custom-checkbox ml-2",children:[Object(u.jsx)("input",{disabled:!x,type:"checkbox",className:"custom-control-input ",id:"select_table_record_".concat(n,"_").concat(q),required:"",checked:z.includes(n),onChange:function onChange(){return G(n)}}),Object(u.jsx)("label",{className:"custom-control-label",htmlFor:"select_table_record_".concat(n,"_").concat(q)})]}))]}),"*"!==String(O)&&Object.entries(e).map((function(t,a){var n=Object(o.a)(t,2),r=n[0],i=n[1];return Object(u.jsx)("td",{children:Object(u.jsx)(TransformValue,{item:r,value:i,row:e,state:V,idx:a})},a)})),null===p||void 0===p?void 0:p.map((function(t,a){return Object(u.jsx)("td",{children:Object(u.jsx)(TransformValue,{item:t,value:"",row:e,state:V,idx:a})},a)}))]},t)}))})]},q),Object(u.jsxs)("div",{style:{borderTop:"1px solid #ededed",display:"flex",justifyContent:"space-between"},children:[Object(u.jsx)("div",{children:(null===z||void 0===z?void 0:z.length)>1?Object(u.jsx)(P,{children:"Bulk actions"}):null}),Object(u.jsx)(T,{style:{alignItems:"center"},component:"div",count:J,page:te,onPageChange:function onPageChange(e,t){ae(t);var a=Object(n.a)(Object(n.a)({},function(){var e;return(null===(e=A[l.a.FIND])||void 0===e?void 0:e.payload)||{}}()),{},{limit:ie,offset:t*ie||0}),r=Object(n.a)({},function(){var e;return(null===(e=A[l.a.FIND])||void 0===e?void 0:e.toast)||{}}());L({type:l.a.FIND,payload:a,toast:r})},rowsPerPage:ie||10,onRowsPerPageChange:function onRowsPerPageChange(e,t){var a=t.props;ce(a.value);var r=Object(n.a)(Object(n.a)({},function(){var e;return(null===(e=A[l.a.FIND])||void 0===e?void 0:e.payload)||{}}()),{},{limit:a.value,offset:te*ie||0}),i=Object(n.a)({},function(){var e;return(null===(e=A[l.a.FIND])||void 0===e?void 0:e.toast)||{}}());L({type:l.a.FIND,payload:r,toast:i,overwrite:!1})}})]})]}):Object(u.jsx)(_.b,{})}),F&&Object(u.jsxs)("div",{style:{padding:"10px 70px 70px",position:"absolute",overflow:"hidden",top:0,width:"100%",left:0,height:"100%",background:"#ffffffed",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(u.jsx)(E.a,{style:{width:"100%",paddingTop:"5%"}}),Object(u.jsx)(E.a,{style:{width:"100%"},animation:"wave"}),Object(u.jsx)(E.a,{style:{width:"100%"},animation:!1}),Object(u.jsx)(E.a,{style:{width:"100%"},animation:"wave"}),Object(u.jsx)(E.a,{style:{width:"100%"},animation:!1}),Object(u.jsx)(E.a,{style:{width:"100%",paddingTop:"5%"}})]})]})]})}var L,q=TableGenerator;function TableSearch(e){var t=e.onSearch,a=e.isFetching,n=Object(r.useState)(""),i=Object(o.a)(n,2),c=i[0],s=i[1];return Object(u.jsxs)("form",{onSubmit:function onSubmit(e){e.preventDefault(),t({q:c})},style:{padding:"15px 0",display:"flex",gap:10,flexWrap:"wrap"},children:[Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"text",value:c,onChange:function onChange(e){var t;return s(null===(t=e.target)||void 0===t?void 0:t.value)},placeholder:"Enter search term here",className:"form-control",disabled:a})}),Object(u.jsx)("button",{disabled:a,className:"btn btn-primary btn-sm",type:"submit",children:a?"Loading...":"Search"})]})}TableGenerator.defaultProps={intermediaryCallback:null};var U=w.IdenticonAvatar,Y=m.a.div(L||(L=Object(v.a)(["\n  ul.star-rating > li i {\n    color: #089248;\n  }\n"])));var V=function UserPermission(e){var t=Object(d.a)().t;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{activeMenu:"Users information",motherMenu:"User Management"}),Object(u.jsxs)("div",{style:{marginBottom:60},children:[Object(u.jsx)("header",{className:"mb-4",children:Object(u.jsx)("h3",{children:t("Permissions")})}),Object(u.jsx)(UsersPermissionTable,Object(n.a)({},e))]}),Object(u.jsxs)("div",{style:{marginBottom:60},children:[Object(u.jsx)("header",{className:"mb-4",children:Object(u.jsx)("h3",{children:t("User membership information")})}),Object(u.jsx)(UsersMembershipTable,Object(n.a)({},e))]})]})};function UsersPermissionTable(e){var t,a=e.services,n=e.useService,i=a.user,o=n((t={},Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.FINDBYID,i.findByID),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.UPDATEBYID,i.updateByID),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.REMOVEBYID,i.removeByID),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.FIND,i.find),t)),s=o.dispatchRequest;return Object(r.useEffect)((function(){s({type:null===l.a||void 0===l.a?void 0:l.a.FIND,payload:{sudo:!0,include:["profile","addresses"]},toast:{success:notifySuccess,error:notifyError}})}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(q,{service:o,mapping:{id:"USER ID",createdAt:"joined"},omit:"*",extras:["name","id","phone_number","country","joined"],transformers:{name:function name(e){e.key,e.value;var t,a,n=e.row;return Object(u.jsxs)("div",{className:" d-flex align-items-center",children:[Object(u.jsx)("div",{className:"avatar avatar-lg mr-4 rounded-circle",style:{border:"1px solid #ededed"},children:Object(u.jsx)("div",{className:" img-fluid overflow-hidden",style:{maxWidth:50,borderRadius:"100%"},children:Object(u.jsx)(U,{size:30,alt:"",id:n.id})})}),Object(u.jsxs)("div",{className:"media-body",children:[Object(u.jsx)("strong",{className:"mb-0  d-block",children:(null===n||void 0===n||null===(t=n.profile)||void 0===t?void 0:t.pname)||(null===n||void 0===n||null===(a=n.profile)||void 0===a?void 0:a.lname)||"Untitled"}),Object(u.jsxs)("small",{className:"text-muted",children:["Last updated:"," ",Object(u.jsx)(b.a,{format:"DD.MM.YYYY",children:null===n||void 0===n?void 0:n.updatedAt})]})]})]})},id:function id(e){var t=e.row;return Object(u.jsx)(u.Fragment,{children:null===t||void 0===t?void 0:t.id})},permission:Permit,joined:function joined(e){var t=e.row;return Object(u.jsx)(b.a,{format:"YYYY/MM/DD",date:null===t||void 0===t?void 0:t.createdAt})},phone_number:function phone_number(e){var t,a,n,r=e.row;return null!==r&&void 0!==r&&null!==(t=r.profile)&&void 0!==t&&t.phone?Object(u.jsx)(p.b,{to:"tel:".concat(null===r||void 0===r||null===(a=r.profile)||void 0===a?void 0:a.phone),children:null===r||void 0===r||null===(n=r.profile)||void 0===n?void 0:n.phone}):"--"},country:function country(e){var t,a=e.row;return Object(u.jsx)(u.Fragment,{children:(null===a||void 0===a||null===(t=a.address)||void 0===t?void 0:t.country)||"--"})}}})})}function UsersMembershipTable(e){var t=e.useService,a=e.services.user,n=t(Object(c.a)({},null===l.a||void 0===l.a?void 0:l.a.FIND,a.find)),i=n.dispatchRequest;return Object(r.useEffect)((function(){i({type:null===l.a||void 0===l.a?void 0:l.a.FIND,payload:{sudo:!0,include:["profile","address"]}})}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(q,{service:n,omit:"*",extras:["name","role","suitability","relationship"],transformers:{name:function name(e){var t,a,n=e.row;return Object(u.jsxs)("div",{className:" d-flex align-items-center",children:[Object(u.jsx)("div",{className:"avatar avatar-lg mr-4 rounded-circle",style:{border:"1px solid #ededed"},children:Object(u.jsx)("div",{className:" img-fluid overflow-hidden",style:{maxWidth:50,borderRadius:"100%"},children:Object(u.jsx)(U,{size:30,alt:"",id:n.id})})}),Object(u.jsxs)("div",{className:"media-body",children:[Object(u.jsx)("strong",{className:"mb-0  d-block",children:(null===n||void 0===n||null===(t=n.profile)||void 0===t?void 0:t.pname)||(null===n||void 0===n||null===(a=n.profile)||void 0===a?void 0:a.lname)||"Untitled"}),Object(u.jsxs)("small",{className:"text-muted",children:["Last updated:"," ",Object(u.jsx)(b.a,{format:"DD.MM.YYYY",children:null===n||void 0===n?void 0:n.updatedAt})]})]})]})},role:function role(e){var t=e.row;return Object(u.jsxs)("div",{className:"py-2 d-flex justify-content-center flex-column",children:[Object(u.jsx)("i",{className:"fa fa-users d-block","aria-hidden":"true"}),Object(u.jsx)(p.b,{to:"mailto:ricky@example.com",className:"text-capitalize",children:null!==t&&void 0!==t&&t.isAdmin?"Administrator":"Regular"})]})},suitability:function suitability(e){var t,a,n=e.row,suitability=Number.isNaN(null===n||void 0===n||null===(t=n.profile)||void 0===t?void 0:t.suitability)?null===n||void 0===n||null===(a=n.profile)||void 0===a?void 0:a.suitability:0,r=suitability/5*100;return Object(u.jsxs)(Y,{children:[Object(u.jsx)("ul",{className:"star-rating",children:Array(5).fill(!1).fill(!0,0,suitability).map((function(e,t){return Object(u.jsx)("li",{children:Object(u.jsx)("i",{className:"fa fa-star".concat(e?"":"-1")})},t)}))}),Object(u.jsxs)("small",{children:[r,"% Progress"]})]})},relationship:function relationship(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{style:{fontSize:12},children:"Message(9)"}),Object(u.jsx)("li",{style:{fontSize:12},children:"Phone(3)"}),Object(u.jsx)("li",{style:{fontSize:12},children:"Live meeting(1)"}),Object(u.jsx)("li",{style:{fontSize:12},children:"Notes(7)"})]})})},joined:function joined(e){var t,a=e.row;return Object(u.jsx)(b.a,{format:"YYYY/MM/DD",date:null===a||void 0===a||null===(t=a.profile)||void 0===t?void 0:t.createdAt})},phone_number:function phone_number(e){var t,a,n,r=e.row;return null!==r&&void 0!==r&&null!==(t=r.profile)&&void 0!==t&&t.phone?Object(u.jsx)(p.b,{to:"tel:".concat(null===r||void 0===r||null===(a=r.profile)||void 0===a?void 0:a.phone),children:null===r||void 0===r||null===(n=r.profile)||void 0===n?void 0:n.phone}):"Not specified"},country:function country(e){var t,a=e.row;return Object(u.jsx)(u.Fragment,{children:(null===a||void 0===a||null===(t=a.address)||void 0===t?void 0:t.country)||"Not specified"})}}})})}function notifySuccess(){h.b.success("Success !",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}function notifyError(e){h.b.error(e||"Request Error!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}function Permit(e){e.key;var t=e.row,a=Object(r.useState)(null===t||void 0===t?void 0:t.permission),n=Object(o.a)(a,2),i=n[0],c=n[1],s=Object(f.a)().services.user;return Object(u.jsxs)("small",{className:"d-flex",style:{gap:10,alignItems:"center"},children:[Object(u.jsx)("strong",{className:"text-danger",style:{opacity:i?.5:1},children:"Block"}),Object(u.jsx)(O.a,{color:"default",name:null===t||void 0===t?void 0:t.id,onChange:function handleChange(e,a){var n=(null===s||void 0===s?void 0:s.updateByID(null===t||void 0===t?void 0:t.id,{permission:!i})).data;null!==n&&void 0!==n&&n.status&&c(a)},checked:i}),Object(u.jsx)("strong",{className:"text-success",style:{opacity:i?1:.5},children:"Allow"})]})}var H=a(2),W=a(0),z=a.n(W),G=a(728),$=a(598),K=a(599),Z=a(247),J=a.n(Z),Q=a(751),X=a(744),ee=function ModalForm(e){var t=e.useFormRenderer,a=e.formData,r=e.isOpen,i=e.onClose,c=e.modalProps,s=t(a),l=Object(o.a)(s,2),d=l[0],v=l[1];return Object(u.jsxs)(X.a,Object(n.a)(Object(n.a)({dialogClassName:"contained-modal",show:r,onHide:i,"aria-labelledby":"modal-box"},c),{},{children:[Object(u.jsx)(X.a.Header,{closeButton:!0,id:"contained-modal-header",children:Object(u.jsx)(X.a.Title,{children:Object(u.jsx)("h3",{className:"lead",children:d})})}),Object(u.jsx)(X.a.Body,{id:"contained-modal-body",children:v})]}))},te=a(231),ae=a(746),ne=a(229),re=a(750);var ie=Object.assign((function Create(e){var t=e.action,a=e.callback,n=Object(d.a)().t;return Object(u.jsx)(ne.b,{initialValues:{email:"",admin:!1},onSubmit:function(){var e=Object(H.a)(z.a.mark((function _callee(e,n){var r,i,c,o,s,l;return z.a.wrap((function _callee$(d){for(;;)switch(d.prev=d.next){case 0:return r=n.setSubmitting,d.prev=1,i=e.admin,c=e.email,o=i?2:1,d.next=6,t({access_level:o,email:c});case 6:s=d.sent,user_form_handleResponse(!!(l=s.data),(function(){return a(l)})),d.next=14;break;case 11:d.prev=11,d.t0=d.catch(1),console.error(d.t0);case 14:return d.prev=14,r(!1),d.finish(14);case 17:case"end":return d.stop()}}),_callee,null,[[1,11,14,17]])})));return function(t,a){return e.apply(this,arguments)}}(),children:function children(e){var t=e.values,a=(e.errors,e.isSubmitting),r=e.handleSubmit,i=e.handleChange,c=e.handleBlur;e.touched;return Object(u.jsxs)(ae.a,{onSubmit:r,children:[Object(u.jsxs)(ae.a.Group,{className:"mb-3",controlId:"formCurrencyCode",children:[Object(u.jsx)(ae.a.Label,{as:"strong",children:n("Email address")}),Object(u.jsx)(ae.a.Control,{type:"email",name:"email",required:!0,onChange:i,onBlur:c,value:t.email,placeholder:n("Email address")})]}),Object(u.jsx)(K.a,{variant:"primary",disabled:a,block:!0,type:"submit",children:n(a?"Saving...":"Save")}),Object(u.jsx)(ae.a.Group,{className:"mt-3",children:Object(u.jsxs)(ae.a.Label,{style:{display:"flex",gap:10,alignItems:"center",justifyContent:"space-between"},children:[Object(u.jsxs)("span",{children:[" ",n("Administrator")," "]}),Object(u.jsx)(O.a,{name:"admin",checked:null===t||void 0===t?void 0:t.admin,defaultValue:null===t||void 0===t?void 0:t.admin,onChange:i})]})})]})}})}),{Remove:function Remove(e){var t=e.action,a=e.callback,n=e.payload,r=void 0===n?{}:n;return Object(u.jsx)(ne.b,{initialValues:{force:(null===r||void 0===r?void 0:r.force)||!1,confirm:!1},validate:function validate(e){},onSubmit:function(){var e=Object(H.a)(z.a.mark((function _callee3(e,n){var r,i,c;return z.a.wrap((function _callee3$(o){for(;;)switch(o.prev=o.next){case 0:return r=n.setSubmitting,o.prev=1,i=e.force,o.next=5,t({force:i});case 5:c=o.sent,c.success&&a&&a(),o.next=13;break;case 10:o.prev=10,o.t0=o.catch(1),console.error(o.t0);case 13:return o.prev=13,r(!1),o.finish(13);case 16:case"end":return o.stop()}}),_callee3,null,[[1,10,13,16]])})));return function(t,a){return e.apply(this,arguments)}}(),children:function children(e){var t=e.values,a=(e.errors,e.isSubmitting),n=e.handleSubmit,i=e.handleChange;e.handleBlur,e.touched;return Object(u.jsxs)(ae.a,{onSubmit:n,children:[Object(u.jsx)("div",{style:{display:"flex",marginBottom:20,alignItems:"center",flexDirection:"column",width:"100%",color:"#d33"},children:Object(u.jsx)("span",{className:"simple-trash",style:{fontSize:45}})}),Object(u.jsx)("strong",{className:"d-block text-center ",children:"You are about to delete the user with the following email address"}),Object(u.jsx)("ul",{className:"d-block text-center",children:Object(u.jsx)("li",{className:"badge badge-default text-white",children:null===r||void 0===r?void 0:r.email})}),Object(u.jsx)("strong",{className:"d-block text-danger text-center my-1",children:(null===t||void 0===t?void 0:t.force)&&"This is an irreversible action!"}),Object(u.jsxs)(ae.a.Group,{className:"mt-3 mb-1",children:[Object(u.jsx)(re.a,{id:"confirm_del",name:"confirm",onChange:i}),Object(u.jsx)(ae.a.Label,{htmlFor:"confirm_del",children:"I understand the implications of my action"})]}),Object(u.jsx)(K.a,{variant:"danger",disabled:a||!(null!==t&&void 0!==t&&t.confirm),block:!0,type:"submit",children:a?"Processing...":"Confirm"})]})}})},Update:function Update(e){var t=e.action,a=e.callback,n=e.payload,r={email:(null===n||void 0===n?void 0:n.email)||"",admin:(null===n||void 0===n?void 0:n.isAdmin)||!1};return Object(u.jsx)(ne.b,{initialValues:r,onSubmit:function(){var e=Object(H.a)(z.a.mark((function _callee2(e,n){var r,i,c;return z.a.wrap((function _callee2$(o){for(;;)switch(o.prev=o.next){case 0:return r=n.setSubmitting,o.prev=1,o.next=4,t(e);case 4:i=o.sent,user_form_handleResponse((c=i.data)&&(null===c||void 0===c?void 0:c.status),(function(){return a(c)}));case 7:return o.prev=7,r(!1),o.finish(7);case 10:case"end":return o.stop()}}),_callee2,null,[[1,,7,10]])})));return function(t,a){return e.apply(this,arguments)}}(),children:function children(e){var t=e.values,a=(e.errors,e.isSubmitting),n=e.handleSubmit,i=e.handleChange;e.handleBlur,e.touched;return Object(u.jsxs)(ae.a,{onSubmit:n,children:[Object(u.jsxs)(ae.a.Group,{className:"mb-3",controlId:"formCurrencyCode",children:[Object(u.jsx)(ae.a.Label,{as:"strong",children:"Email address"}),Object(u.jsx)(ae.a.Text,{children:Object(u.jsx)("strong",{className:"text-primary",children:null===r||void 0===r?void 0:r.email})})]}),Object(u.jsx)(ae.a.Group,{className:"mt-3",children:Object(u.jsxs)(ae.a.Label,{style:{display:"flex",gap:10,alignItems:"center",justifyContent:"space-between"},children:[Object(u.jsx)("strong",{children:"Administrator "}),Object(u.jsx)(O.a,{name:"admin",checked:null===t||void 0===t?void 0:t.admin,defaultValue:null===t||void 0===t?void 0:t.admin,onChange:i})]})}),Object(u.jsx)(K.a,{variant:"primary",disabled:a,block:!0,type:"submit",children:a?"Saving...":"Save"})]})}})}});function user_form_handleResponse(e,t){h.b[e?"success":"error"](e?"Done":"Operation not completed.",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),e&&t()}var ce=a(73),oe="p@55w0rd";var se=function UserManagement(e){var t,a,i=e.services,s=e.useService,v=i.user,j=i.auth,m=Object(d.a)().t,p=s((t={},Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.FIND,null===v||void 0===v?void 0:v.find),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.CREATE,null===v||void 0===v?void 0:v.create),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.FINDBYID,null===v||void 0===v?void 0:v.findByID),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.UPDATEBYID,null===v||void 0===v?void 0:v.updateByID),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.REMOVEBYID,null===v||void 0===v?void 0:v.removeByID),t)),h=p.dispatchRequest,O=p.retryDispatch,f=p.serviceMap;Object(r.useEffect)((function(){h({type:null===l.a||void 0===l.a?void 0:l.a.FIND,payload:{order:JSON.stringify([["createdAt","DESC"],["updatedAt","DESC"]]),sudo:!0,paranoid:!1},toast:{success:ce.a,error:function error(e){return Object(ce.a)(e,"error")}}})}),[]);var x=Object(te.a)(),g=x.isOpen,y=x.onOpen,_=x.onClose,w=x.toggledPayload;function _onUpdateUser(){return(_onUpdateUser=Object(H.a)(z.a.mark((function _callee(e,t){var a,n,r,i;return z.a.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,!e||!t){c.next=12;break}return a=f[null===l.a||void 0===l.a?void 0:l.a.UPDATEBYID],c.next=5,a(e,t);case 5:if(n=c.sent,r=n.data,!(i=n.error)){c.next=10;break}throw new Error(i);case 10:r&&null!==r&&void 0!==r&&r.status?Object(ce.a)("Done"):Object(ce.a)("Could not complete operation","error"),O(null===l.a||void 0===l.a?void 0:l.a.FIND);case 12:return c.abrupt("return",null);case 15:c.prev=15,c.t0=c.catch(0),Object(ce.a)(c.t0.message,"error");case 18:case"end":return c.stop()}}),_callee,null,[[0,15]])})))).apply(this,arguments)}function _onResetPassword(){return(_onResetPassword=Object(H.a)(z.a.mark((function _callee2(e){var t,a,n;return z.a.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!e){r.next=10;break}return r.next=4,j.changePassword(e);case 4:if(t=r.sent,a=t.data,!(n=t.error)){r.next=9;break}throw new Error(n);case 9:a&&null!==a&&void 0!==a&&a.status?Object(ce.a)("Operation done. password reset to '".concat(oe,"'")):Object(ce.a)("Could not complete operation","error");case 10:return r.abrupt("return",null);case 13:r.prev=13,r.t0=r.catch(0),Object(ce.a)(r.t0.message,"error");case 16:case"end":return r.stop()}}),_callee2,null,[[0,13]])})))).apply(this,arguments)}return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(G.a,{style:{marginBottom:20},children:[Object(u.jsx)($.a,{children:Object(u.jsx)("div",{className:"input-group search-area right d-lg-inline-flex d-none"})}),Object(u.jsx)($.a,{sm:"auto",children:Object(u.jsxs)("div",{className:"",style:{padding:0,display:"flex",gap:10},children:[Object(u.jsx)("button",{className:"btn",onClick:function onClick(){return O(l.a.FIND)},children:m("Refresh")}),Object(u.jsxs)(K.a,{onClick:function onClick(){return y({type:null===l.a||void 0===l.a?void 0:l.a.CREATE})},children:[Object(u.jsx)("i",{className:"fa fa-plus"})," ",m("Add User")]})]})})]}),Object(u.jsx)(ee,{useFormRenderer:function useFormRenderer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:null,payload:null},t=function(){var t=f[null===e||void 0===e?void 0:e.type];try{switch(null===e||void 0===e?void 0:e.type){case null===l.a||void 0===l.a?void 0:l.a.CREATE:return[m("Create new User"),Object(u.jsx)(ie,{action:t,payload:null===e||void 0===e?void 0:e.payload,callback:_})];case null===l.a||void 0===l.a?void 0:l.a.UPDATE:return["Update User",Object(u.jsx)(ie.Update,{action:t,payload:null===e||void 0===e?void 0:e.payload,callback:_})];case null===l.a||void 0===l.a?void 0:l.a.REMOVE:return["Delete User",Object(u.jsx)(ie.Remove,{action:t,payload:null===e||void 0===e?void 0:e.payload,callback:_})];default:return[null,null]}}catch(a){console.error("Must pass in method and payload key to the formData argument")}}(),a=Object(o.a)(t,2),n=a[0],r=a[1];return[n,Object(u.jsx)(G.a,{children:Object(u.jsx)($.a,{children:r})})]},formData:w,isOpen:g,onClose:_}),Object(u.jsx)(G.a,{children:Object(u.jsx)($.a,{children:Object(u.jsx)(q,{service:p,mapping:{created_at:"registration_date"},omit:"*",extras:["email","name","registration_date","kyc_status","status","action","reset_password"],transformers:(a={name:function name(e){var t,a=e.row;return null===a||void 0===a||null===(t=a.profile)||void 0===t?void 0:t.pname},registration_date:function registration_date(e){var t=e.row,a=J()(null===t||void 0===t?void 0:t.createdAt);return a.isValid()?Object(u.jsx)(b.a,{format:"MMM Do, Y, hh:mm A",children:a}):"unknown"},email:function email(e){var t=e.row;return null===t||void 0===t?void 0:t.email},status:function status(e){var t=e.row;return null!==t&&void 0!==t&&t.active?Object(u.jsxs)("span",{className:"badge light badge-success",children:[Object(u.jsx)("i",{className:"fa fa-circle text-success mr-1"}),m("Active")]}):Object(u.jsxs)("span",{className:"badge light badge-danger",children:[Object(u.jsx)("i",{className:"fa fa-circle text-danger mr-1"}),m("Inactive")]})},action:function action(e){var t=e.row;return Object(u.jsxs)("select",{value:null===t||void 0===t?void 0:t.active,onChange:function onChange(e){var a=e.target;return function onUpdateUser(e,t){return _onUpdateUser.apply(this,arguments)}(null===t||void 0===t?void 0:t.id,{active:null===a||void 0===a?void 0:a.value})},children:[Object(u.jsx)("option",{disabled:null===t||void 0===t?void 0:t.active,value:!0,children:m("Activate")}),Object(u.jsx)("option",{disabled:!(null!==t&&void 0!==t&&t.active),value:!1,children:m("Deactivate")})]})},reset_password:function reset_password(e){var t=e.row;return Object(u.jsx)("button",{type:"button",onClick:function onClick(){return function onResetPassword(e){return _onResetPassword.apply(this,arguments)}({id:null===t||void 0===t?void 0:t.id,new_password:oe,token:""})},className:"btn btn-danger btn-xs",children:m("Reset password")})}},Object(c.a)(a,"reset_password",(function reset_password(e){e.row;return Object(u.jsx)("button",{type:"button",className:"btn btn-danger btn-xs",children:"Reset password"})})),Object(c.a)(a,"kyc_status",(function kyc_status(e){var t=e.row;null!==t&&void 0!==t&&t.isAdmin;return null!==t&&void 0!==t&&t.isAdmin||function checkKYC(e){return!!e&&!Object.keys(e).some((function(e){return"ACCEPTED"==e.status}))}(null===t||void 0===t?void 0:t.kyc)?Object(u.jsxs)("small",{className:"badge badge-success text-white",children:[Object(u.jsx)("i",{className:"fa fa-check-circle text-white mr-2"}),m("completed")]}):Object(u.jsx)("small",{className:"badge badge-default text-white",children:m("pending")})})),Object(c.a)(a,"_action",(function Action(e){var t=e.row,a=Object(te.a)(),r=a.isOpen,i=(a.onOpen,a.onClose,a.toggledPayload),c=Boolean(i)?null===t||void 0===t?void 0:t.id:void 0;return Object(u.jsxs)("div",{style:{display:"flex",gap:10},children:[Object(u.jsxs)("button",{style:{appearance:"none",border:"none",background:"none",fontSize:12},onClick:function onClick(){return y({method:null===l.a||void 0===l.a?void 0:l.a.UPDATE,payload:t})},children:[Object(u.jsx)("span",{className:"themify-glyph-29"})," ",m("Edit")]}),Object(u.jsxs)("button",{style:{appearance:"none",border:"none",background:"none",position:"relative",fontSize:12},"aria-describedby":c,variant:"contained",onClick:function handleClick(e){},children:[Object(u.jsx)("span",{className:"themify-glyph-165"})," ",m("Delete")]}),c&&Object(u.jsx)(Q.a,{id:c,open:r,anchorEl:i,children:Object(u.jsxs)("ul",{className:"bg-white shadow",style:{padding:10},children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"#",onClick:function onClick(){return y({method:null===l.a||void 0===l.a?void 0:l.a.REMOVE,payload:Object(n.a)(Object(n.a)({},t),{},{force:!1})})},children:Object(u.jsx)("small",{children:m("Delete")})})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"#",onClick:function onClick(){return y({method:null===l.a||void 0===l.a?void 0:l.a.REMOVE,payload:Object(n.a)(Object(n.a)({},t),{},{force:!0})})},children:Object(u.jsx)("small",{children:m("Permanently delete")})})})]})})]})})),a)})})})]})},le=(a(117),a(40));var de=Object.assign((function bankdetail_form_Create(e){var t=e.action,a=e.services,n=e.callback,i=(a.bank_detail,Object(d.a)().t,Object(f.a)()),o=i.services.currency,s=i.useService,v=(i.session,s(Object(c.a)({},null===l.a||void 0===l.a?void 0:l.a.FIND,o.find)));return Object(r.useEffect)((function(){v.dispatchRequest({type:null===l.a||void 0===l.a?void 0:l.a.FIND,payload:{filter:{type:"FIAT"}}})}),[]),Object(u.jsx)(ne.b,{initialValues:{bank_name:"",swift_code:""},validate:validateInput,onSubmit:function(){var e=Object(H.a)(z.a.mark((function _callee3(e,a){var r,i,c,o,s,l;return z.a.wrap((function _callee3$(d){for(;;)switch(d.prev=d.next){case 0:return r=a.setSubmitting,d.prev=1,d.next=4,t(e);case 4:if(i=d.sent,c=i.data,o=i.error,s=i.message,l=void 0===s?"Error while creating bank detail. Try again later":s,c){d.next=11;break}throw new Error((null===o||void 0===o?void 0:o.message)||l);case 11:bankdetail_form_handleResponse(!!c,(function(){return n(c)})),d.next=17;break;case 14:d.prev=14,d.t0=d.catch(1),Object(ce.a)(d.t0.message,"error");case 17:return d.prev=17,r(!1),d.finish(17);case 20:case"end":return d.stop()}}),_callee3,null,[[1,14,17,20]])})));return function(t,a){return e.apply(this,arguments)}}(),children:function children(e){var t=e.values,a=e.errors,n=e.isSubmitting,r=e.handleChange,i=e.handleBlur,c=e.handleSubmit,o=e.touched;return Object(u.jsxs)("form",{onSubmit:c,children:[Object(u.jsxs)(ae.a.Group,{className:"mb-4",controlId:"bank_name",children:[Object(u.jsx)(ae.a.Label,{children:"Bank name"}),Object(u.jsx)(ae.a.Control,{type:"text",name:"bank_name",required:!0,minLength:"3",onChange:r,onBlur:i,value:t.bank_name,placeholder:"Bank Name"}),Object(u.jsx)("small",{className:"text-danger",children:a.bank_name&&o.bank_name&&a.bank_name})]}),Object(u.jsxs)(ae.a.Group,{className:"mb-4",controlId:"swift_code",children:[Object(u.jsx)(ae.a.Label,{children:"Swift Code"}),Object(u.jsx)(ae.a.Control,{type:"text",name:"swift_code",required:!0,onChange:r,onBlur:i,defaultValue:t.swift_code,placeholder:"Swift Code"}),Object(u.jsx)("small",{className:"text-danger",children:a.swift_code&&o.swift_code&&a.swift_code})]}),Object(u.jsx)(K.a,{variant:"primary",disabled:n,block:!0,type:"submit",children:n?"Saving...":"Save"})]})}})}),{Remove:function bankdetail_form_Remove(e){var t=e.action,a=e.callback,n=e.payload,r=void 0===n?{}:n;return Object(d.a)().t,Object(u.jsx)(ne.b,{initialValues:{confirm:!1,id:(null===r||void 0===r?void 0:r.id)||null},onSubmit:function(){var e=Object(H.a)(z.a.mark((function _callee(e,n){var r,i,c,o,s;return z.a.wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return r=n.setSubmitting,l.prev=1,l.next=4,t(null===e||void 0===e?void 0:e.id,{force:null===e||void 0===e?void 0:e.force});case 4:if(i=l.sent,c=i.data,o=i.error,s=i.message,!o){l.next=10;break}throw new Error(s||"Request error");case 10:bankdetail_form_handleResponse(!!c,(function(){return a(c)})),l.next=16;break;case 13:l.prev=13,l.t0=l.catch(1),h.b.error("Error! Cannot complete operation");case 16:return l.prev=16,r(!1),l.finish(16);case 19:case"end":return l.stop()}}),_callee,null,[[1,13,16,19]])})));return function(t,a){return e.apply(this,arguments)}}(),children:function children(e){var t=e.values,a=(e.errors,e.isSubmitting),n=e.handleSubmit,r=e.handleChange;return null!==(null===t||void 0===t?void 0:t.id)?Object(u.jsxs)(ae.a,{onSubmit:n,children:[Object(u.jsx)("strong",{className:"text-danger text-center d-block",children:"This operation will permanently delete this item. Continue?"}),Object(u.jsxs)(ae.a.Group,{className:"mt-3 mb-1",children:[Object(u.jsx)(re.a,{id:"delete_bankdetail",name:"confirm",onChange:r}),Object(u.jsx)(ae.a.Label,{htmlFor:"delete_bankdetail",children:"I understand the implications of my action"})]}),Object(u.jsx)(K.a,{variant:"primary",disabled:a||!(null!==t&&void 0!==t&&t.confirm),block:!0,type:"submit",children:a?"Processing...":"Confirm"})]}):Object(u.jsx)(u.Fragment,{children:"No ID provided"})}})},Update:function bankdetail_form_Update(e){var t=e.action,a=(e.services,e.callback),n=e.payload,i={id:null===n||void 0===n?void 0:n.id,bank_name:(null===n||void 0===n?void 0:n.bank_name)||"",swift_code:null===n||void 0===n?void 0:n.swift_code},o=Object(f.a)(),s=o.services.currency,d=(0,o.useService)(Object(c.a)({},null===l.a||void 0===l.a?void 0:l.a.FIND,s.find));return Object(r.useEffect)((function(){d.dispatchRequest({type:null===l.a||void 0===l.a?void 0:l.a.FIND,payload:{"filter[type]":"FIAT"}})}),[]),Object(u.jsx)(ne.b,{initialValues:i,validate:validateInput,onSubmit:function(){var e=Object(H.a)(z.a.mark((function _callee2(e,n){var r,i,c,o,s;return z.a.wrap((function _callee2$(l){for(;;)switch(l.prev=l.next){case 0:return r=n.setSubmitting,i={bank_name:null===e||void 0===e?void 0:e.bank_name,swift_code:null===e||void 0===e?void 0:e.swift_code},l.prev=2,l.next=5,t(null===e||void 0===e?void 0:e.id,i);case 5:c=l.sent,o=c.data,s=c.error,console.log(s),bankdetail_form_handleResponse(!!o,(function(){return a(o)}));case 10:return l.prev=10,r(!1),l.finish(10);case 13:case"end":return l.stop()}}),_callee2,null,[[2,,10,13]])})));return function(t,a){return e.apply(this,arguments)}}(),children:function children(e){var t=e.values,a=e.errors,n=e.isSubmitting,r=e.handleSubmit,c=e.handleChange,o=e.handleBlur,s=e.touched;return null!==i&&void 0!==i&&i.id?Object(u.jsxs)(ae.a,{onSubmit:r,children:[Object(u.jsxs)(ae.a.Group,{className:"mb-4",controlId:"bank_name",children:[Object(u.jsx)(ae.a.Label,{children:"Bank name"}),Object(u.jsx)(ae.a.Control,{type:"text",name:"bank_name",required:!0,minLength:"3",onChange:c,onBlur:o,value:t.bank_name,placeholder:"Bank Name"}),Object(u.jsx)("small",{className:"text-danger",children:a.bank_name&&s.bank_name&&a.bank_name})]}),Object(u.jsxs)(ae.a.Group,{className:"mb-4",controlId:"swift_code",children:[Object(u.jsx)(ae.a.Label,{children:"Swift Code"}),Object(u.jsx)(ae.a.Control,{type:"text",name:"swift_code",required:!0,pattern:"^[A-Za-z0-9]{8,11}$",onChange:c,onBlur:o,value:t.swift_code,placeholder:"Swift Code"}),Object(u.jsx)("small",{className:"text-danger",children:a.swift_code&&s.swift_code&&a.swift_code})]}),Object(u.jsx)(K.a,{variant:"primary",disabled:!hasChanges(i,t)||n,block:!0,type:"submit",children:n?"Saving...":"Save"})]}):"Detail ID not provided"}})}});function bankdetail_form_handleResponse(e,t){h.b[e?"success":"error"](e?"Done":"Operation not completed.",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),e&&t()}function validateInput(e){var t={};return null!==e&&void 0!==e&&e.bank_name||(t.bank_name="Bank name is required"),null!==e&&void 0!==e&&e.swift_code||(t.swift_code="Swift code is required"),t}function hasChanges(e,t){return(e=Object(le.deepObjectStringify)(e))!==(t=Object(le.deepObjectStringify)(t))}var ue=function AdminBankDetails(e){var t,a=e.services,n=e.useService,i=Object(d.a)().t,s=a.bank_detail,v=n((t={},Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.CREATE,s.create),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.FINDBYID,s.findByID),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.UPDATEBYID,s.updateByID),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.REMOVEBYID,s.removeByID),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.FIND,s.find),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.REMOVE,s.remove),t)),j=v.dispatchRequest,b=v.retryDispatch,m=v.serviceMap;Object(r.useEffect)((function(){return j({type:null===l.a||void 0===l.a?void 0:l.a.FIND,toast:{success:bankdetail_page_notifySuccess,error:bankdetail_page_notifyError},payload:{sudo:!0}}),s.abort}),[]);var p=Object(te.a)(),h=p.isOpen,O=p.onOpen,f=p.onClose,g=p.toggledPayload;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{pageContent:Object(u.jsx)("h2",{className:"font-w600 mb-2 mr-auto ",children:i("Admin Bank Details")}),activeMenu:"Admin bank details",motherMenu:"Dashboard",children:Object(u.jsxs)("div",{style:{marginBottom:20,display:"flex",gap:10,width:"100%"},children:[Object(u.jsx)("div",{}),Object(u.jsxs)("div",{sm:"auto",style:{padding:0,marginLeft:"auto",display:"flex",gap:10},children:[Object(u.jsx)("button",{className:"btn",onClick:function onClick(){return b(l.a.FIND)},children:i("Refresh")}),Object(u.jsxs)(K.a,{onClick:function onClick(){return O({type:null===l.a||void 0===l.a?void 0:l.a.CREATE})},children:[Object(u.jsx)("i",{className:"fa fa-plus"})," ",i("Add New")]})]})]})}),Object(u.jsx)(ee,{useFormRenderer:function useFormRenderer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:null,payload:null},t=function(){var t=m[null===e||void 0===e?void 0:e.type];try{switch(null===e||void 0===e?void 0:e.type){case null===l.a||void 0===l.a?void 0:l.a.CREATE:return[i("Add new bank detail"),Object(u.jsx)(de,{services:a,action:t,payload:null===e||void 0===e?void 0:e.payload,callback:function callback(){b(null===l.a||void 0===l.a?void 0:l.a.FIND),f()}})];case null===l.a||void 0===l.a?void 0:l.a.UPDATEBYID:return[i("Update bank detail"),Object(u.jsx)(de.Update,{services:a,action:t,payload:null===e||void 0===e?void 0:e.payload,callback:function callback(){b(null===l.a||void 0===l.a?void 0:l.a.FIND),f()},u:!0})];case null===l.a||void 0===l.a?void 0:l.a.REMOVEBYID:return[i("Delete Bank details"),Object(u.jsx)(de.Remove,{services:a,action:t,payload:null===e||void 0===e?void 0:e.payload,callback:function callback(){b(null===l.a||void 0===l.a?void 0:l.a.FIND),f()}})];default:return[null,null]}}catch(n){console.error("Must pass in method and payload key to the formData argument")}}(),n=Object(o.a)(t,2),r=n[0],c=n[1];return[r,Object(u.jsx)(G.a,{children:Object(u.jsx)($.a,{children:c})})]},formData:g,isOpen:h,onClose:f}),Object(u.jsx)(G.a,{children:Object(u.jsx)($.a,{children:Object(u.jsx)(q,{service:v,mapping:{iso_code:"Symbol"},omit:"*",extras:["bank_name","swift_code","action"],transformers:{bank_name:function bank_name(e){var t=e.row;return Object(u.jsx)(u.Fragment,{children:null===t||void 0===t?void 0:t.bank_name})},swift_code:function swift_code(e){var t=e.row;return Object(u.jsx)(u.Fragment,{children:null===t||void 0===t?void 0:t.swift_code})},action:function action(e){var t=e.row;return Object(u.jsxs)("div",{style:{display:"flex",gap:10},children:[Object(u.jsxs)("button",{style:{appearance:"none",border:"none",background:"none"},onClick:function onClick(){return O({type:null===l.a||void 0===l.a?void 0:l.a.UPDATEBYID,payload:t})},children:[Object(u.jsx)("span",{className:"themify-glyph-29"})," ",i("Edit")]}),Object(u.jsxs)("button",{style:{appearance:"none",border:"none",background:"none"},onClick:function onClick(){return O({type:null===l.a||void 0===l.a?void 0:l.a.REMOVEBYID,payload:t})},children:[Object(u.jsx)("span",{className:"themify-glyph-165"})," ",i("Delete")]})]})}}})})})]})};function bankdetail_page_notifySuccess(){h.b.success("Success !",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}function bankdetail_page_notifyError(e){h.b.error(e||"Request Error!",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}var ve=a(62),je=w.IdenticonAvatar;var be=function UserSecessions(e){var t=Object(d.a)().t;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{activeMenu:"Users secession",motherMenu:"User Management"}),Object(u.jsxs)("div",{style:{marginBottom:60},children:[Object(u.jsx)("header",{className:"mb-4",children:Object(u.jsx)("h3",{children:t("Details of Secession Request")})}),Object(u.jsx)(SecessionRequestTable,Object(n.a)({},e))]}),Object(u.jsxs)("div",{style:{marginBottom:60},children:[Object(u.jsx)("header",{className:"mb-4",children:Object(u.jsx)("h3",{children:t("Secession Upon Approval")})}),Object(u.jsx)(ApprovedSecessionTable,Object(n.a)({},e))]})]})};function SecessionRequestTable(){var e=Object(d.a)().t,t=Object(f.a)(),a=t.services.secession,n=(0,t.useService)(Object(c.a)({},null===l.a||void 0===l.a?void 0:l.a.FIND,a.find));return Object(r.useEffect)((function(){n.dispatchRequest({type:[null===l.a||void 0===l.a?void 0:l.a.FIND],payload:{order:JSON.stringify([["createdAt","DESC"],["updatedAt","DESC"]]),paranoid:!1,sudo:!0,include:["User","Kyc"]},toast:{success:ce.a,error:function error(e){return Object(ce.a)(e,"error")}}})}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(q,{service:n,omit:"*",extras:["username","email","status"],transformers:{username:function username(e){var t,a,n,r,i,c=e.row;return Object(u.jsxs)("div",{className:"media d-flex align-items-center",children:[Object(u.jsx)("div",{className:"avatar avatar-xl mr-4",children:Object(u.jsx)("div",{className:"rounded-circle overflow-hidden img-fluid",children:Object(u.jsx)(je,{size:30,alt:"",id:null===(t=c.user)||void 0===t?void 0:t.id})})}),Object(u.jsxs)("div",{className:"media-body",children:[Object(u.jsx)("div",{className:"mb-0 fs--1",children:Object(u.jsx)(p.b,{to:"/to_user_information",children:(null===c||void 0===c||null===(a=c.user)||void 0===a||null===(n=a.profile)||void 0===n?void 0:n.pname)||(null===c||void 0===c||null===(r=c.user)||void 0===r||null===(i=r.profile)||void 0===i?void 0:i.lname)||"--"})}),Object(u.jsx)("div",{className:"d-flex align-items-center",style:{gap:16,fontSize:12},children:Object(u.jsx)(b.a,{withTitle:!0,format:"MMM Do, Y hh:m A",trim:!0,children:null===c||void 0===c?void 0:c.createdAt})})]})]})},email:function email(e){var t,a=e.row;return Object(u.jsx)(u.Fragment,{children:null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.email})},status:function StatusSelector(t){var i,c=t.row,s=Object(r.useState)(null===(i=String(null===c||void 0===c?void 0:c.status))||void 0===i?void 0:i.toLowerCase()),l=Object(o.a)(s,2),d=l[0],v=l[1];function _onChangeStatus(){return _onChangeStatus=Object(H.a)(z.a.mark((function _callee(t){var n,r,i,o,s;return z.a.wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,n=null===c||void 0===c?void 0:c.id,l.next=4,a.updateByID(n,{status:t});case 4:if(r=l.sent,i=r.data,o=r.error,s=r.message,(!i||null!==i&&void 0!==i&&i.status)&&!o){l.next=10;break}throw new Error((null===o||void 0===o?void 0:o.message)||s||e("Cannot complete operation"));case 10:v(t),Object(ce.a)(e("Done"));case 12:l.next=18;break;case 14:l.prev=14,l.t0=l.catch(0),console.error(l.t0),Object(ce.a)(l.t0.message,"error");case 18:case"end":return l.stop()}}),_callee,null,[[0,14]])}))),_onChangeStatus.apply(this,arguments)}return Object(u.jsxs)("div",{className:"d-flex",style:{gap:10},children:[Object(u.jsxs)("select",{disabled:null===n||void 0===n?void 0:n.isFetching,onChange:function onChange(e){return function onChangeStatus(e){return _onChangeStatus.apply(this,arguments)}(e.target.value)},value:d,children:[Object(u.jsx)("option",{value:"PENDING",children:e("Pending")}),Object(u.jsx)("option",{value:"ACCEPTED",children:e("Approve")}),Object(u.jsx)("option",{value:"DENIED",children:e("Deny")})]}),null!==n&&void 0!==n&&n.isFetching?Object(u.jsx)(ve.a,{}):"pending"==d?Object(u.jsxs)("small",{className:"badge badge-default text-white",children:[Object(u.jsx)("i",{className:"fa fa-circle text-white mr-2"}),"pending"]}):"accepted"==d?Object(u.jsxs)("small",{className:"badge badge-success text-white",children:[Object(u.jsx)("i",{className:"fa fa-check-circle text-white mr-2"}),e("Accept")]}):Object(u.jsxs)("small",{className:"badge badge-danger text-white",children:[Object(u.jsx)("i",{className:"fa fa-exclamation-triangle text-white mr-2"}),e("Deny")]})]})}}})})}function ApprovedSecessionTable(e){var t=e.services,a=e.useService,n=t.secession,i=a(Object(c.a)({},null===l.a||void 0===l.a?void 0:l.a.FIND,n.find)),o=i.dispatchRequest;return Object(r.useEffect)((function(){o({type:[null===l.a||void 0===l.a?void 0:l.a.FIND],payload:{order:JSON.stringify([["createdAt","DESC"],["updatedAt","DESC"]]),paranoid:!1,where:{status:"ACCEPTED"},sudo:!0},toast:{success:ce.a,error:function error(e){return Object(ce.a)(e,"error")}}})}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(q,{service:i,mapping:{id:"User ID"},omit:"*",extras:["id","description","due_date","approval_status","approval_date"],transformers:{id:function id(e){var t=e.row;return null===t||void 0===t?void 0:t.id},description:function description(e){var t=e.row;return null===t||void 0===t?void 0:t.description},due_date:function due_date(e){var t=e.row;return Object(u.jsx)(b.a,{durationFromNow:!0,date:null===t||void 0===t?void 0:t.due_date,trim:!0})},approval_status:function approval_status(e){var t=e.row;return null===t||void 0===t?void 0:t.status},approval_date:function approval_date(e){var t=e.row;return Object(u.jsx)(b.a,{withTitle:!0,format:"MMM Do, Y hh:m A",trim:!0,children:null===t||void 0===t?void 0:t.approval_date})}}})})}var me=a(729),pe=a(759);function UserSessionHistoryTable(){var e=Object(f.a)(),t=e.useService,a=e.services.user,n=t(Object(c.a)({},null===l.a||void 0===l.a?void 0:l.a.FIND,a.find)),i=n.dispatchRequest;return Object(r.useEffect)((function(){i({type:null===l.a||void 0===l.a?void 0:l.a.FIND,payload:{sudo:!0}})}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(q,{service:n,omit:"*",extras:["username","duration","login","last_seen","login_status"],transformers:{username:function username(e){var t,a,n=e.row,r=J()(),i=J()(null===n||void 0===n?void 0:n.login_at),c=r.minutes()-i.minutes();return console.log({status:c,loginAtDayOfTheYear:i.dayOfYear(),nowDayOfYear:r.dayOfYear()}),Object(u.jsxs)("div",{className:"d-flex align-items-center",style:{gap:10},children:[Object(u.jsx)("span",{className:"fa fa-circle ".concat(null!==n&&void 0!==n&&n.online?"text-success":"text-danger"),style:{fontSize:12}})," ",Object(u.jsx)("div",{className:"media d-flex align-items-center",children:Object(u.jsx)("div",{className:"media-body",children:Object(u.jsx)("div",{className:"mb-0 fs--1",children:(null===n||void 0===n||null===(t=n.profile)||void 0===t?void 0:t.pname)||(null===n||void 0===n||null===(a=n.profile)||void 0===a?void 0:a.lname)||"Untitled"})})})]})},duration:function duration(e){var t=e.row,a=J()(null===t||void 0===t?void 0:t.login_at);return Object(u.jsx)("small",{children:a.isValid()?Object(u.jsx)(b.a,{duration:a,trim:!0}):"--"})},last_seen:function last_seen(e){var t=e.row;return Object(u.jsx)("small",{children:(null===t||void 0===t?void 0:t.last_seen)&&Object(u.jsx)(b.a,{format:"MMM Do, Y hh:m A",date:null===t||void 0===t?void 0:t.last_seen,trim:!0})||"--"})},login:function login(e){var t=e.row,a=J()(null===t||void 0===t?void 0:t.login_at);return Object(u.jsx)("small",{children:a.isValid()?Object(u.jsx)(b.a,{withTitle:!0,format:"MMM Do, Y hh:m A",trim:!0,children:a}):"--"})},login_status:function login_status(e){var t=e.row,a=(J()(),null===t||void 0===t?void 0:t.login_at),n=null===t||void 0===t?void 0:t.last_seen,r="--";return J()(a).isValid()&&(r=Object(me.a)(Object(pe.a)(n),Object(pe.a)(a))?"logged In":"logged out"),Object(u.jsx)("small",{children:r})}}})})}var he=function UserSessionHistory(e){var t=Object(d.a)().t;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{activeMenu:"Session History",motherMenu:"User Management"}),Object(u.jsxs)("div",{style:{marginBottom:60},children:[Object(u.jsx)("header",{className:"mb-4",children:Object(u.jsx)("h3",{children:t("User session history")})}),Object(u.jsx)(UserSessionHistoryTable,Object(n.a)({},e))]})]})};var Oe=function UserBalance(){var e=Object(f.a)(),t=e.services.wallet,a=e.useService,n=Object(d.a)().t,i=a(Object(c.a)({},null===l.a||void 0===l.a?void 0:l.a.FIND,t.find)),o=i.dispatchRequest;return Object(r.useEffect)((function(){o({type:null===l.a||void 0===l.a?void 0:l.a.FIND,payload:{order:JSON.stringify([["createdAt","DESC"],["updatedAt","DESC"]]),sudo:!0,paranoid:!1},toast:{success:user_balance_page_notifySuccess,error:function error(e){return Object(ce.a)(e,"error")}}})}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{activeMenu:"User Management",motherMenu:"Balances"}),Object(u.jsx)("header",{className:"mb-4",children:Object(u.jsx)("h3",{children:n("Wallet balances")})}),Object(u.jsx)(G.a,{children:Object(u.jsx)($.a,{children:Object(u.jsx)(q,{service:i,omit:"*",extras:["user","currency","account_balance","available_balance"],transformers:{user:function user(e){var t,a,n=e.row;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"media d-flex align-items-center",children:[Object(u.jsx)("div",{className:"avatar avatar-xl mr-4",children:Object(u.jsx)("div",{className:"rounded-circle overflow-hidden img-fluid",children:Object(u.jsx)(y,{size:30,alt:"",id:null===(t=n.user)||void 0===t?void 0:t.id})})}),Object(u.jsxs)("div",{className:"media-body",children:[Object(u.jsx)("div",{className:"mb-0 fs--1",children:Object(u.jsx)("span",{children:(null===n||void 0===n||null===(a=n.user)||void 0===a?void 0:a.email)||"--"})}),Object(u.jsxs)("div",{className:"d-flex align-items-center",style:{gap:10,fontSize:12},children:["Last updated:",Object(u.jsx)(b.a,{withTitle:!0,format:"MMM Do, Y hh:m A",trim:!0,children:null===n||void 0===n?void 0:n.updatedAt})]})]})]})})},currency:function currency(e){var t=e.row;return(null===t||void 0===t?void 0:t.currency)||" Not specified"},account_balance:function account_balance(e){var t,a=e.row;return console.log(a),Object(I.b)((null===a||void 0===a||null===(t=a.balance)||void 0===t?void 0:t.accountBalance)||0,8)},available_balance:function available_balance(e){var t,a=e.row;return Object(I.b)((null===a||void 0===a||null===(t=a.balance)||void 0===t?void 0:t.availableBalance)||0,8)}}})})})]})};function user_balance_page_notifySuccess(){h.b.success("Success !",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}var fe=function UserReferralMgmt(e){var t=e.services,a=e.useService,n=Object(d.a)().t,i=t.affiliate,o=a(Object(c.a)({},null===l.a||void 0===l.a?void 0:l.a.FIND,i.find)),s=o.dispatchRequest;return Object(r.useEffect)((function(){s({type:null===l.a||void 0===l.a?void 0:l.a.FIND,payload:{sudo:!0,paranoid:!1},toast:{success:user_affiliates_page_notifySuccess,error:user_affiliates_page_notifyError}})}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{style:{marginBottom:60},children:[Object(u.jsx)("header",{className:"mb-4",children:Object(u.jsx)("h3",{children:n("User affiliates")})}),Object(u.jsx)(q,{service:o,omit:"*",extras:["referrer_email","referrer_code","total"],transformers:{date:function date(e){var t=e.row,a=J()(null===t||void 0===t?void 0:t.createdAt);return a.isValid()?Object(u.jsx)(b.a,{format:"MMM Do, Y, hh:mm A",children:a}):"unknown"},referrer_email:function referrer_email(e){var t,a=e.row;return console.log(a),null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.email},referrer_code:function referrer_code(e){var t,a,n=e.row;return(null===n||void 0===n||null===(t=n.user)||void 0===t||null===(a=t.profile)||void 0===a?void 0:a.invite_code)||"Unknown"},total:function total(e){var t=e.row;return null===t||void 0===t?void 0:t.total}}})]})})};function user_affiliates_page_notifySuccess(){h.b.success("Success !",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}function user_affiliates_page_notifyError(e){h.b.error(e||"Request Error!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}var xe=function AdvertsManagement(e){var t,a=e.services,n=e.useService,s=Object(d.a)().t,v=(a.user,a.advert,a.faq),j=n((t={},Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.RETRIEVE,v.findall),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.BULK_RETRIEVE,v.findall),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.FINDBYID,v.find),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.REMOVEFAQ,v.deleteById),t)),b=j.dispatchRequest,m=j.retryDispatch,h=j.serviceMap,f=Object(te.a)(),g=f.isOpen,y=(f.onOpen,f.onClose),_=f.toggledPayload;Object(r.useEffect)((function(){b({type:null===l.a||void 0===l.a?void 0:l.a.BULK_RETRIEVE,payload:{sudo:!0},toast:{success:support_board_page_notifySuccess,error:support_board_page_notifyError}})}),[]);var w=Object(i.h)(),N=Object(r.useState)(""),C=Object(o.a)(N,2),k=C[0],D=C[1],S=Object(r.useState)(""),E=Object(o.a)(S,2),I=E[0],A=E[1],R=Object(r.useState)(""),F=Object(o.a)(R,2),B=F[0],M=F[1],T=Object(r.useState)(""),P=Object(o.a)(T,2),L=P[0],U=P[1],Y=function(){var e=Object(H.a)(z.a.mark((function _callee(){var e,t,a,n,r;return z.a.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:e="",""!=L&&(e+="where[question]=".concat(L,"&")),""!=k&&(e+="where[category]=".concat(k,"&")),""!=I&&(t=new Date(I),a=t.toISOString(),e+="where[created_at][$lte]=".concat(a,"&")),""!=B&&(n=new Date(B),r=n.toISOString(),e+="where[created_at][$gte]=".concat(r,"&")),b({type:null===l.a||void 0===l.a?void 0:l.a.FINDBYID,payload:{query:e},toast:{success:support_board_page_notifySuccess,error:support_board_page_notifyError}});case 6:case"end":return i.stop()}}),_callee)})));return function onSearch(){return e.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{activeMenu:"",motherMenu:"Advert management"}),Object(u.jsxs)("header",{className:"mb-4",children:[Object(u.jsx)("h3",{children:s("Notice List")}),Object(u.jsx)(p.b,{to:"/admin/support-register",className:"btn btn-outline-light",children:"Registration"})]}),Object(u.jsx)("div",{style:{marginBottom:20,display:"flex",gap:10,width:"100%",position:"relative"},children:Object(u.jsxs)("div",{sm:"auto",style:{padding:0,marginLeft:"auto",display:"flex",gap:10,rowGap:10},children:[Object(u.jsx)("input",{className:"form-control",placeholder:"start date",type:"date",id:"date","aria-placeholder":"aajj",onChange:function onChange(e){A(e.target.value)}}),Object(u.jsx)("input",{className:"form-control",placeholder:"end date",type:"date",id:"date",onChange:function onChange(e){M(e.target.value)}})]})}),Object(u.jsx)("div",{style:{marginBottom:20,display:"flex",gap:10,width:"100%",position:"relative"},children:Object(u.jsxs)("div",{sm:"auto",style:{padding:0,marginLeft:"auto",display:"flex",gap:10,rowGap:10},children:[Object(u.jsxs)("select",{children:[Object(u.jsx)("option",{value:!0,children:"==Active Status=="}),Object(u.jsx)("option",{value:!0,children:s("Activate")}),Object(u.jsx)("option",{value:!1,children:s("Deactivate")})]}),Object(u.jsxs)("select",{onChange:function onChange(e){D(e.target.value)},children:[Object(u.jsx)("option",{value:"",children:"==ALL CATEGORY=="}),Object(u.jsx)("option",{value:"User Guide",children:"User Guide"}),Object(u.jsx)("option",{value:"Frequently Asked Questions",children:"Frequently Asked Questions"})]}),Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"pleased select a search option",onChange:function onChange(e){U(e.target.value)}}),Object(u.jsxs)("div",{className:"input-group-append",children:[Object(u.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function onClick(){Y()},children:"Search"}),Object(u.jsx)("button",{type:"button",className:"btn btn-outline-info",children:"reset"})]})]})}),Object(u.jsx)("div",{style:{marginBottom:20,display:"flex",gap:10,width:"100%",position:"relative"},children:Object(u.jsx)("div",{sm:"auto",style:{padding:0,marginLeft:"auto",display:"flex",gap:10,rowGap:10},children:"hello"})}),Object(u.jsx)(ee,{useFormRenderer:function useFormRenderer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:null,payload:null},t=function(){var t=h[null===e||void 0===e?void 0:e.type];try{switch(null===e||void 0===e?void 0:e.type){case null===l.a||void 0===l.a?void 0:l.a.CREATE:return[s("Add new bank detail"),Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)("div",{className:" flex-column",children:Object(u.jsx)("h4",{className:"modal-title w-100",children:"Are you sure?"})}),Object(u.jsx)("div",{children:Object(u.jsx)("p",{children:"Do you really want to delete these records? This process cannot be undone ok."})}),Object(u.jsxs)("div",{className:"modal-footer justify-content-center",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Cancel"}),Object(u.jsx)("button",{type:"button",className:"btn btn-danger",children:"Delete"})]})]})];case null===l.a||void 0===l.a?void 0:l.a.UPDATEBYID:return[s("Update bank detail"),Object(u.jsx)(de.Update,{services:a,action:t,payload:null===e||void 0===e?void 0:e.payload,callback:function callback(){m(null===l.a||void 0===l.a?void 0:l.a.FIND),y()}})];case null===l.a||void 0===l.a?void 0:l.a.REMOVEBYID:return[s("Delete Bank details"),Object(u.jsx)(de.Remove,{services:a,action:t,payload:null===e||void 0===e?void 0:e.payload,callback:function callback(){m(null===l.a||void 0===l.a?void 0:l.a.FIND),y()}})];default:return[null,null]}}catch(n){console.error("Must pass in method and payload key to the formData argument")}}(),n=Object(o.a)(t,2),r=n[0],i=n[1];return[r,Object(u.jsx)(G.a,{children:Object(u.jsx)($.a,{children:i})})]},formData:_,isOpen:g,onClose:y}),Object(u.jsx)("div",{style:{marginBottom:60},children:Object(u.jsx)(q,{service:j,omit:"*",extras:["category","subcategory","question","answer","link","registration_date","action"],transformers:{subcategory:function subcategory(e){var t=e.row;return null===t||void 0===t?void 0:t.subcategory},category:function category(e){var t=e.row;return null===t||void 0===t?void 0:t.category},question:function question(e){var t=e.row;return null===t||void 0===t?void 0:t.question},answer:function answer(e){var t=e.row;return null!==t&&void 0!==t&&t.answer?null===t||void 0===t?void 0:t.answer:"Unknown"},link:function link(e){var t=e.row;return null!==t&&void 0!==t&&t.link?null===t||void 0===t?void 0:t.link:"Unknown"},registration_date:function registration_date(e){var t=e.row;return null!==t&&void 0!==t&&t.created_at?null===t||void 0===t?void 0:t.created_at:"Unknown"},action:function Action(e){var t=e.row,a=Object(r.useState)(!(null===t||void 0===t||!t.archived_at)),n=Object(o.a)(a,2),i=n[0];n[1];function _onChangeActive(){return(_onChangeActive=Object(H.a)(z.a.mark((function _callee2(e){return z.a.wrap((function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:null,void 0,support_board_page_notifyError("Operation is incomplete");case 4:case"end":return e.stop()}}),_callee2)})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:"d-flex",style:{gap:20},children:[i?Object(u.jsxs)("span",{className:"badge light badge-danger",children:[Object(u.jsx)("i",{className:"fa fa-circle text-danger mr-1"}),"Inactive"]}):Object(u.jsxs)("span",{className:"badge light badge-success",children:[Object(u.jsx)("i",{className:"fa fa-circle text-success mr-1"}),"Active"]}),Object(u.jsxs)("button",{disabled:i,style:{appearance:"none",border:"none",background:"none"},onClick:function onClick(){!function redirectToEdit(e){w.push("/admin/support-register?id=".concat(e))}(null===t||void 0===t?void 0:t.id)},children:[Object(u.jsx)("span",{className:"themify-glyph-29"})," Edit"]}),Object(u.jsx)("div",{className:"",title:"activate/deactivate",children:Object(u.jsx)(O.a,{onChange:function onChange(){return function onChangeActive(e){return _onChangeActive.apply(this,arguments)}(i)},name:"force",id:"activate-currency",size:"small",checked:!i})})]})}}})})]})};function support_board_page_notifySuccess(){h.b.success("Success !",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}function support_board_page_notifyError(e){h.b.error(e||"Request Error!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}var ge=a(296),ye=["id"];function currency_form_hasChanges(e,t){var a;return(e=null===(a=Object.values(e))||void 0===a?void 0:a.join(""))!==(t=Object.values(t).join(""))}var _e=Object.assign((function currency_form_Create(e){var t=e.action,a=e.callback,r=Object(d.a)().t;return Object(u.jsx)(ne.b,{initialValues:{iso_code:"",name:"",type:""},onSubmit:function(){var e=Object(H.a)(z.a.mark((function _callee(e,r){var i,c,o;return z.a.wrap((function _callee$(s){for(;;)switch(s.prev=s.next){case 0:return i=r.setSubmitting,s.prev=1,e=Object(n.a)(Object(n.a)({},e),{},{iso_code:null===(c=e)||void 0===c||null===(o=c.iso_code)||void 0===o?void 0:o.toUpperCase()}),s.next=5,t(e);case 5:currency_form_handleResponse(s.sent,a,{success:"Currency added",error:"Error adding currency"}),s.next=12;break;case 9:s.prev=9,s.t0=s.catch(1),console.error(s.t0);case 12:return s.prev=12,i(!1),s.finish(12);case 15:case"end":return s.stop()}}),_callee,null,[[1,9,12,15]])})));return function(t,a){return e.apply(this,arguments)}}(),children:function children(e){var t,a=e.values,n=(e.errors,e.isSubmitting),i=e.handleSubmit,c=e.handleChange,o=e.setFieldValue;return Object(u.jsxs)(ae.a,{onSubmit:i,children:[Object(u.jsxs)(ae.a.Group,{className:"mb-3",controlId:"formCurrencyCode",children:[Object(u.jsx)(ae.a.Label,{children:Object(u.jsx)("strong",{children:r("Currency Symbol")})}),Object(u.jsx)(ge.a,{all:!0,onlySymbol:!0,altTitle:"Select currency",onChange:function onChange(e){return o("iso_code",e)}}),Object(u.jsx)(ae.a.Text,{className:"mt-2 text-muted",children:r("ISO Code or Short name or Symbol")})]}),Object(u.jsxs)(ae.a.Group,{className:"mb-3",controlId:"formCurrencyName",children:[Object(u.jsx)(ae.a.Label,{children:Object(u.jsx)("strong",{children:r("Full name")})}),Object(u.jsx)(ae.a.Control,{type:"text",name:"name",defaultValue:null===a||void 0===a?void 0:a.name,onChange:c,placeholder:r("Currency name")})]}),Object(u.jsxs)(ae.a.Group,{className:"mb-3",controlId:"formCurrencyType",children:[Object(u.jsx)(ae.a.Label,{children:Object(u.jsx)("strong",{children:r("Type")})}),Object(u.jsxs)(ae.a.Control,{as:"select",name:"type",defaultValue:null===a||void 0===a||null===(t=a.type)||void 0===t?void 0:t.toLowerCase(),onChange:c,"aria-label":r("Select currency type"),children:[Object(u.jsx)("option",{children:r("Select currency type")}),Object(u.jsx)("option",{value:"fiat",children:r("Fiat")}),Object(u.jsx)("option",{value:"crypto",children:r("Crypto")})]})]}),Object(u.jsx)(K.a,{variant:"primary",disabled:n&&Object.values(a).length,block:!0,type:"submit",children:r(n?"Processing...":"Finish")})]})}})}),{Remove:function currency_form_Remove(e){var t=e.action,a=e.callback,n=e.payload,r=void 0===n?{id:i}:n,i=null===r||void 0===r?void 0:r.id;return i?Object(u.jsx)(ne.b,{initialValues:{confirm:!1,force:!1},onSubmit:function(){var e=Object(H.a)(z.a.mark((function _callee3(e,n){var r,c;return z.a.wrap((function _callee3$(o){for(;;)switch(o.prev=o.next){case 0:return r=n.setSubmitting,o.prev=1,c=e.force,o.next=5,t(i,{force:c});case 5:currency_form_handleResponse(o.sent,a);case 7:return o.prev=7,r(!1),o.finish(7);case 10:case"end":return o.stop()}}),_callee3,null,[[1,,7,10]])})));return function(t,a){return e.apply(this,arguments)}}(),children:function children(e){var t=e.values,a=(e.errors,e.isSubmitting),n=e.handleSubmit,r=e.handleChange;return Object(u.jsxs)(ae.a,{onSubmit:n,children:[Object(u.jsx)("div",{style:{display:"flex",marginBottom:20,alignItems:"center",flexDirection:"column",width:"100%",color:"#d33"},children:Object(u.jsx)("span",{className:"simple-trash",style:{fontSize:70}})}),Object(u.jsx)("p",{className:"",children:"Are you sure you wish to proceed with this action?"}),Object(u.jsx)(ae.a.Text,{controlId:"delete_type",className:"mt-3 mb-3",children:Object(u.jsxs)("label",{children:[Object(u.jsx)(re.a,{name:"confirm",onChange:r}),"I understand the implications of my action"]})}),Object(u.jsx)(K.a,{variant:"danger",disabled:a||!(null!==t&&void 0!==t&&t.confirm),block:!0,type:"submit",children:a?"Processing...":"Confirm"})]})}}):"Please provide valid ID"},Edit:function Edit(e){var t=e.action,a=e.callback,n=e.payload,r=void 0===n?{}:n,i={iso_code:(null===r||void 0===r?void 0:r.iso_code)||null,id:(null===r||void 0===r?void 0:r.id)||null,name:(null===r||void 0===r?void 0:r.name)||null,type:(null===r||void 0===r?void 0:r.type)||null};return Object(u.jsx)(ne.b,{initialValues:i,onSubmit:function(){var e=Object(H.a)(z.a.mark((function _callee2(e,n){var r,i;return z.a.wrap((function _callee2$(c){for(;;)switch(c.prev=c.next){case 0:return r=n.setSubmitting,c.prev=1,i=e.id,Object(N.a)(e,ye),c.next=5,t(i,e);case 5:currency_form_handleResponse(c.sent,a);case 7:return c.prev=7,r(!1),c.finish(7);case 10:case"end":return c.stop()}}),_callee2,null,[[1,,7,10]])})));return function(t,a){return e.apply(this,arguments)}}(),children:function children(e){var t,a,n=e.values,r=(e.errors,e.isSubmitting),c=e.handleSubmit,o=e.handleChange;return Object(u.jsxs)(ae.a,{onSubmit:c,children:[Object(u.jsxs)(ae.a.Group,{className:"mb-3",controlId:"formCurrencyCode",children:[Object(u.jsx)(ae.a.Label,{children:Object(u.jsx)("strong",{children:"Code"})}),Object(u.jsx)(ae.a.Control,{type:"text",autoCapitalize:"characters",name:"iso_code",defaultValue:null===n||void 0===n?void 0:n.iso_code,placeholder:"Currency symbol",onChange:o}),Object(u.jsx)(ae.a.Text,{className:"mt-2 text-muted",children:"ISO Code or Short name or Symbol"})]}),Object(u.jsxs)(ae.a.Group,{className:"mb-3",controlId:"formCurrencyName",children:[Object(u.jsx)(ae.a.Label,{children:Object(u.jsx)("strong",{children:"Full name"})}),Object(u.jsx)(ae.a.Control,{type:"text",name:"name",defaultValue:null===n||void 0===n?void 0:n.name,onChange:o,placeholder:"Currency name"})]}),Object(u.jsxs)(ae.a.Group,{className:"mb-3",controlId:"formCurrencyType",children:[Object(u.jsx)(ae.a.Label,{children:Object(u.jsx)("strong",{children:"Type"})}),Object(u.jsxs)(ae.a.Control,{as:"select",name:"type",value:null===n||void 0===n||null===(t=n.type)||void 0===t?void 0:t.toLowerCase(),defaultValue:null===n||void 0===n||null===(a=n.type)||void 0===a?void 0:a.toLowerCase(),onChange:o,"aria-label":"Select currency type",children:[Object(u.jsx)("option",{children:"Select currency type"}),Object(u.jsx)("option",{value:"fiat",children:"Fiat"}),Object(u.jsx)("option",{value:"crypto",children:"Crypto"})]})]}),Object(u.jsx)(K.a,{variant:"primary",disabled:r||!currency_form_hasChanges(i,n),block:!0,type:"submit",children:r?"Processing...":"Finish"})]})}})}});function currency_form_handleResponse(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{error:"Operation failed",success:"Operation completed successfully"},n=e.data,r=e.error,i=e.message,c={position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,closeButton:!1};return n?void 0!==(null===n||void 0===n?void 0:n.status)||null!==n&&void 0!==n&&n.status?(h.b.success(a.success,c),void t(n)):h.b.error(null===a||void 0===a?void 0:a.error,c):h.b.error((null===r||void 0===r?void 0:r.message)||i||(null===a||void 0===a?void 0:a.error),c)}var we=function CurrencyMgmt(e){e.services;var t,a=e.useService,n=Object(f.a)().services.currency,i=Object(d.a)().t,s=a((t={},Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.CREATE,n.create),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.FINDBYID,n.findByID),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.UPDATEBYID,n.updateByID),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.REMOVEBYID,n.removeByID),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.RESTOREBYID,n.restoreByID),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.FIND,n.find),t)),v=s.dispatchRequest,j=s.retryDispatch,b=s.serviceMap,m=Object(te.a)(),p=m.isOpen,h=m.onOpen,g=m.onClose,y=m.toggledPayload;return Object(r.useEffect)((function(){v({type:l.a.FIND,payload:{order:JSON.stringify([["createdAt","DESC"],["updatedAt","DESC"]]),sudo:!0,paranoid:!1},toast:{success:currency_management_page_notifySuccess,error:currency_management_page_notifyError}})}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{activeMenu:"Currencies",motherMenu:"Currency management"}),Object(u.jsx)("header",{className:"mb-4",children:Object(u.jsx)("h3",{children:i("Currency List")})}),Object(u.jsx)("div",{style:{marginBottom:20,width:"100%",display:"flex",justifyContent:"flex-between"},children:Object(u.jsxs)("div",{className:"ml-auto",style:{padding:0,display:"flex",gap:10},children:[Object(u.jsx)("button",{className:"btn",onClick:function onClick(){return j(l.a.FIND)},children:i("Refresh")}),Object(u.jsxs)(K.a,{onClick:function onClick(){return h({type:null===l.a||void 0===l.a?void 0:l.a.CREATE})},children:[Object(u.jsx)("i",{className:"fa fa-plus"})," ",i("Add Currency")]})]})}),Object(u.jsx)(ee,{useFormRenderer:function useFormRenderer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e){var t=e.type,a=void 0===t?null:t,n=e.payload,r=void 0===n?null:n,c=function(){var e=b[a];try{switch(a){case null===l.a||void 0===l.a?void 0:l.a.CREATE:return[i("Create new Currency"),Object(u.jsx)(_e,{action:e,payload:r,callback:function callback(e){j(l.a.FIND),g()}})];case null===l.a||void 0===l.a?void 0:l.a.UPDATEBYID:return["Update Currency",Object(u.jsx)(_e.Edit,{action:e,payload:r,callback:function callback(e){j(l.a.FIND),g()}})];default:return[null,null]}}catch(t){console.error("Must pass in method and payload key to the formData argument")}}(),s=Object(o.a)(c,2),d=s[0],v=s[1];return[d,Object(u.jsx)(G.a,{children:Object(u.jsx)($.a,{children:v})})]}return[null,null]},formData:y,isOpen:p,onClose:g}),Object(u.jsx)("div",{style:{marginBottom:60},children:Object(u.jsx)(q,{service:s,mapping:{id:"Currency ID",iso_code:"symbol"},omit:"*",extras:["symbol","full_name","type","action"],transformers:{symbol:function symbol(e){var t=e.row;return(null===t||void 0===t?void 0:t.iso_code)||"unknown"},full_name:function full_name(e){var t=e.row;return(null===t||void 0===t?void 0:t.name)||"unknown"},type:function type(e){var t=e.row;return(null===t||void 0===t?void 0:t.type)||"unknown"},action:function Action(e){var t=e.row,a=Object(r.useState)(!(null===t||void 0===t||!t.archived_at)),i=Object(o.a)(a,2),c=i[0],s=i[1];function _onChangeActive(){return(_onChangeActive=Object(H.a)(z.a.mark((function _callee(e){var a,r,i,c;return z.a.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:if(null,!e){o.next=7;break}return o.next=4,n.restoreByID(null===t||void 0===t?void 0:t.id);case 4:c=o.sent,o.next=10;break;case 7:return o.next=9,n.removeByID(null===t||void 0===t?void 0:t.id);case 9:c=o.sent;case 10:(null===(a=c)||void 0===a?void 0:a.data)&&(null===(r=c)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.status)?(currency_management_page_notifySuccess(),s(!e)):currency_management_page_notifyError("Operation is incomplete");case 12:case"end":return o.stop()}}),_callee)})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:"d-flex",style:{gap:20},children:[c?Object(u.jsxs)("span",{className:"badge light badge-danger",children:[Object(u.jsx)("i",{className:"fa fa-circle text-danger mr-1"}),"Inactive"]}):Object(u.jsxs)("span",{className:"badge light badge-success",children:[Object(u.jsx)("i",{className:"fa fa-circle text-success mr-1"}),"Active"]}),Object(u.jsxs)("button",{disabled:c,style:{appearance:"none",border:"none",background:"none"},onClick:function onClick(){return h({type:null===l.a||void 0===l.a?void 0:l.a.UPDATEBYID,payload:t})},children:[Object(u.jsx)("span",{className:"themify-glyph-29"})," Edit"]}),Object(u.jsx)("div",{className:"",title:"activate/deactivate",children:Object(u.jsx)(O.a,{onChange:function onChange(){return function onChangeActive(e){return _onChangeActive.apply(this,arguments)}(c)},name:"force",id:"activate-currency",size:"small",checked:!c})})]})}}})})]})};function currency_management_page_notifySuccess(){h.b.success("Success !",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}function currency_management_page_notifyError(e){h.b.error(e||"Request Error!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}var Ne=a(275);function ToggleStatus(e){var t=e.row,a=Object(d.a)().t,n=Object(f.a)().services.kyc,i=Object(r.useState)(null===t||void 0===t?void 0:t.status),c=Object(o.a)(i,2),s=c[0],l=c[1],v=function KYCStatus(){var e;return"accepted"===(null===(e=String(s))||void 0===e?void 0:e.toLowerCase())};function _handleChange(){return(_handleChange=Object(H.a)(z.a.mark((function _callee(e){var a,r,i,c,o,s;return z.a.wrap((function _callee$(d){for(;;)switch(d.prev=d.next){case 0:return a=e.target,d.prev=1,r=null!==a&&void 0!==a&&a.checked?"ACCEPTED":"PENDING",d.next=5,null===n||void 0===n?void 0:n.updateByUserAndType(null===t||void 0===t?void 0:t.user_id,null===t||void 0===t?void 0:t.type,{status:r});case 5:if(i=d.sent,c=i.data,o=i.error,s=i.message,c){d.next=11;break}throw new Error((null===o||void 0===o?void 0:o.message)||s||"Error updating KYC Type");case 11:Object(ce.a)("Changes saved"),l(r),d.next=19;break;case 15:d.prev=15,d.t0=d.catch(1),console.log(d.t0),Object(ce.a)(d.t0.message,"error");case 19:case"end":return d.stop()}}),_callee,null,[[1,15]])})))).apply(this,arguments)}return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("small",{className:"d-flex",style:{gap:10,alignItems:"center"},children:[Object(u.jsx)(O.a,{color:"default",name:null===t||void 0===t?void 0:t.id,onChange:function handleChange(e){return _handleChange.apply(this,arguments)},inputProps:{"aria-label":"controlled"},checked:v(),size:"small"}),v()?Object(u.jsxs)("small",{className:"badge badge-success text-white",children:[Object(u.jsx)("i",{className:"fa fa-check-circle text-white mr-2"}),a("completed")]}):Object(u.jsxs)("small",{className:"badge badge-warning text-white",children:[Object(u.jsx)("i",{className:"fa fa-circle text-white mr-2"}),a("pending")]})]})})}function KycDetails(e){var t,a,n,i,c,s,l,d,v,j,b,m,p=e.payload,h=void 0===p?{}:p,O=Object(r.useState)([]),f=Object(o.a)(O,2),x=f[0],g=f[1];return Object(r.useEffect)((function(){if(Array.isArray(h.kyc)){var e,t,a=null===h||void 0===h||null===(e=h.kyc)||void 0===e?void 0:e.filter((function(e){return"ID"===(null===e||void 0===e?void 0:e.type)}));null!==a&&void 0!==a&&a.length&&g((null===(t=a[0])||void 0===t?void 0:t.uploads)||[])}}),[h.kyc]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-12",children:[Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-3",children:Object(u.jsx)("h6",{className:"mb-0",children:"Full Name :"})}),Object(u.jsxs)("div",{className:"col-9 ",children:[null===h||void 0===h||null===(t=h.user)||void 0===t||null===(a=t.profile)||void 0===a?void 0:a.lname," ",null===h||void 0===h||null===(n=h.user)||void 0===n||null===(i=n.profile)||void 0===i?void 0:i.name]})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-3",children:Object(u.jsx)("h6",{className:"mb-0",children:"Birth Date :"})}),Object(u.jsx)("div",{className:"col-9",children:null===h||void 0===h||null===(c=h.user)||void 0===c||null===(s=c.profile)||void 0===s?void 0:s.date_of_birth})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-3",children:Object(u.jsx)("h6",{className:"mb-0",children:"Address :"})}),Object(u.jsxs)("div",{className:"col-9",children:[null===h||void 0===h||null===(l=h.user)||void 0===l||null===(d=l.address)||void 0===d?void 0:d.address_line,","," ",null===h||void 0===h||null===(v=h.user)||void 0===v||null===(j=v.address)||void 0===j?void 0:j.zipcode,","," ",null===h||void 0===h||null===(b=h.user)||void 0===b||null===(m=b.address)||void 0===m?void 0:m.country]})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h6",{className:"mb-0",children:"Image uploads :"}),Object(u.jsx)("div",{style:{gap:10,display:"flex",flexWrap:"wrap"},children:x.map((function(e,t){var a,n;return Object(u.jsxs)("figure",{style:{margin:4,border:"1px solid #acacac",padding:10},children:[Object(u.jsx)("img",{style:{maxHeight:"300px",objectFit:"contain"},src:null===e||void 0===e||null===(a=e.original)||void 0===a?void 0:a.url,alt:"preview image"}),Object(u.jsx)("figcaption",{children:Object(u.jsx)("a",{target:"_blank",href:"".concat(Ne.b.upload,"?path=").concat(null===e||void 0===e||null===(n=e.original)||void 0===n?void 0:n.url),children:"Preview"})})]},t)}))})]})]})})})}var Ce=function UserKYCMgmt(){var e,t=Object(te.a)(),a=t.isOpen,n=t.onOpen,i=t.onClose,s=t.toggledPayload,v=Object(f.a)(),j=v.services.kyc,m=v.useService,p=Object(d.a)().t,h=m((e={},Object(c.a)(e,null===l.a||void 0===l.a?void 0:l.a.FINDBYID,j.findByID),Object(c.a)(e,null===l.a||void 0===l.a?void 0:l.a.UPDATEBYID,j.updateByID),Object(c.a)(e,null===l.a||void 0===l.a?void 0:l.a.REMOVEBYID,j.removeByID),Object(c.a)(e,null===l.a||void 0===l.a?void 0:l.a.FIND,j.find),e)),O=h.dispatchRequest,g=h.retryDispatch,y=h.serviceMap;function useFormRenderer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e){var t=e.type,a=void 0===t?null:t,n=e.payload,r=void 0===n?null:n,c=function(){var e=y[a];try{switch(a){case"view::uploads":return[p("KYC Details"),Object(u.jsx)(KycDetails,{action:e,payload:r,callback:function callback(e){g(l.a.FIND),i()}})];case null===l.a||void 0===l.a?void 0:l.a.UPDATEBYID:return["Update Currency",Object(u.jsx)(_e.Edit,{action:e,payload:r,callback:function callback(e){g(l.a.FIND),i()}})];case null===l.a||void 0===l.a?void 0:l.a.REMOVEBYID:return["Confirm Delete",Object(u.jsx)(_e.Remove,{action:e,payload:r,callback:i})];default:return[null,null]}}catch(t){console.error("Must pass in method and payload key to the formData argument")}}(),s=Object(o.a)(c,2),d=s[0],v=s[1];return[d,Object(u.jsx)(G.a,{children:Object(u.jsx)($.a,{children:v})})]}return[null,null]}return Object(r.useEffect)((function(){O({type:null===l.a||void 0===l.a?void 0:l.a.FIND,payload:{sudo:!0,order:JSON.stringify([["createdAt","DESC"],["updatedAt","DESC"]])},toast:{success:ce.a,error:function error(e){return Object(ce.a)(e,"error")}}})}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(ee,{useFormRenderer:useFormRenderer,formData:s,isOpen:a,onClose:i,modalProps:{size:"lg"}}),Object(u.jsx)(x,{activeMenu:"KYC",motherMenu:"User management"}),Object(u.jsxs)("header",{className:"mb-4 d-flex justify-content-between",style:{flexWrap:"wrap"},children:[Object(u.jsx)("h3",{children:p("KYC List")}),Object(u.jsx)("button",{className:"btn",onClick:function onClick(){return g(l.a.FIND)},children:p("Refresh")})]}),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(q,{service:h,mapping:{id:"USER ID",createdAt:"joined"},omit:"*",extras:["email","security_password","email_verification","sms_verification","google_auth","id_verification","security_level","media"],transformers:{email:function email(e){var t,a=e.row;return null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.email},security_level:function security_level(e){var t,a=e.row,n=null===a||void 0===a||null===(t=a.kyc)||void 0===t?void 0:t.reduce((function(e,t){var a;return"accepted"===(null===(a=String(null===t||void 0===t?void 0:t.status))||void 0===a?void 0:a.toLowerCase())?e+(null===t||void 0===t?void 0:t.security_level):e}),0);return n>1?Object(u.jsx)("small",{className:"badge badge-success text-white",children:n}):Object(u.jsx)("small",{className:"badge badge-danger text-white",children:n})},security_password:function security_password(e){var t=e.row;return null!==t&&void 0!==t&&t.user.active?Object(u.jsxs)("small",{className:"badge badge-success text-white",children:[Object(u.jsx)("i",{className:"fa fa-check-circle text-white mr-2"}),p("completed")]}):Object(u.jsxs)("small",{className:"badge badge-warning text-white",children:[Object(u.jsx)("i",{className:"fa fa-circle text-white mr-2"}),p("pending")]})},email_verification:function email_verification(e){var t,a=e.row,n=null===a||void 0===a||null===(t=a.kyc)||void 0===t?void 0:t.filter((function(e){return"EMAIL"===e.type}));return null!==n&&void 0!==n&&n.length?Object(u.jsx)(ToggleStatus,{row:n[0]}):"--"},sms_verification:function sms_verification(e){var t,a=e.row,n=null===a||void 0===a||null===(t=a.kyc)||void 0===t?void 0:t.filter((function(e){return"SMS"===e.type}));return null!==n&&void 0!==n&&n.length?Object(u.jsx)(ToggleStatus,{row:n[0]}):"--"},google_auth:function google_auth(e){var t,a=e.row,n=null===a||void 0===a||null===(t=a.kyc)||void 0===t?void 0:t.filter((function(e){return"GOOGLE_AUTH"===e.type}));return null!==n&&void 0!==n&&n.length?Object(u.jsx)(ToggleStatus,{row:n[0]}):"--"},id_verification:function id_verification(e){var t,a=e.row,n=null===a||void 0===a||null===(t=a.kyc)||void 0===t?void 0:t.filter((function(e){return"ID"===e.type}));return null!==n&&void 0!==n&&n.length?Object(u.jsx)(ToggleStatus,{row:n[0]}):"--"},date:function date(e){var t=e.row;return Object(u.jsx)(b.a,{format:"YYYY/MM/DD",date:null===t||void 0===t?void 0:t.createdAt})},media:function media(e){var t,a,r,i=e.row,c=null===i||void 0===i||null===(t=i.kyc)||void 0===t?void 0:t.filter((function(e){return"ID"===e.type}));return null!==c&&void 0!==c&&c.length&&null!==(a=c[0])&&void 0!==a&&null!==(r=a.uploads)&&void 0!==r&&r.length?Object(u.jsx)(K.a,{size:"sm",onClick:function onClick(){return n({type:"view::uploads",payload:i})},children:Object(u.jsx)("i",{className:"fa fa-eye"})}):"--"}}})})]})};function WithdrawalHistoryTable(){var e,t=Object(f.a)(),a=t.services.transaction,n=t.useService,i=Object(d.a)().t,s=n((e={},Object(c.a)(e,null===l.a||void 0===l.a?void 0:l.a.FIND,a.find),Object(c.a)(e,null===l.a||void 0===l.a?void 0:l.a.UPDATE,a.approveByID),e)),v=Object(te.a)(),j=v.isOpen,m=v.onOpen,p=v.onClose,h=v.toggledPayload,O=s.dispatchRequest,x=s.retryDispatch;s.serviceMap;return Object(r.useEffect)((function(){O({type:null===l.a||void 0===l.a?void 0:l.a.FIND,payload:{where:{type:"WITHDRAW"},sudo:!0}})}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(ee,{useFormRenderer:function useFormRenderer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:null,payload:null},t=function(){try{return(null===e||void 0===e?void 0:e.type)===(null===l.a||void 0===l.a?void 0:l.a.UPDATE)?[i("Approve"),Object(u.jsx)(ApproveWithdrawalModel,{payload:null===e||void 0===e?void 0:e.payload,callback:function callback(){x(null===l.a||void 0===l.a?void 0:l.a.UPDATE),p()},close:p})]:[null,null]}catch(t){console.error("Must pass in method and payload key to the formData argument")}}(),a=Object(o.a)(t,2),n=a[0],r=a[1];return[n,Object(u.jsx)(G.a,{children:Object(u.jsx)($.a,{children:r})})]},formData:h,isOpen:j,onClose:p}),Object(u.jsx)("div",{style:{marginBottom:60},children:Object(u.jsx)(q,{service:s,omit:"*",extras:["email","currency","amount","fee","status","date","action"],transformers:{email:function email(e){var t,a,n=e.row;return null===n||void 0===n||null===(t=n.wallet)||void 0===t||null===(a=t.user)||void 0===a?void 0:a.email},currency:function currency(e){var t,a=e.row;return null===a||void 0===a||null===(t=a.wallet)||void 0===t?void 0:t.currency},fee:function fee(e){var t=e.row;return String(null===t||void 0===t?void 0:t.fee)},amount:function amount(e){var t=e.row;return String(null===t||void 0===t?void 0:t.quantity)},status:function status(e){var t=e.row;return null===t||void 0===t?void 0:t.status},date:function date(e){var t=e.row;return Object(u.jsx)(b.a,{format:"D MMM YY, h:m:s a",date:null===t||void 0===t?void 0:t.createdAt})},action:function WithdrawalAction(e){var t=e.row;return Object(u.jsx)("div",{style:{display:"flex",gap:10},children:Object(u.jsxs)("button",{style:{appearance:"none",border:"none",background:"none"},onClick:function onClick(){m({type:null===l.a||void 0===l.a?void 0:l.a.UPDATE,payload:{row:t}})},children:[Object(u.jsx)("span",{className:"themify-glyph-29"})," ",i("Action")]})})}}})})]})}var ke=function Withdrawals(){var e=Object(d.a)().t;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{activeMenu:"Withdrawals",motherMenu:"Wallet management"}),Object(u.jsx)("header",{className:"mb-4",children:Object(u.jsx)("h3",{children:e("Withdrawals details")})}),Object(u.jsx)("div",{style:{marginBottom:60},children:Object(u.jsx)(WithdrawalHistoryTable,{})})]})};function ApproveWithdrawalModel(e){var t,a=Object(f.a)().services.transaction,n=e.callback,i=e.payload,c=void 0===i?{}:i,s=e.close,l=Object(d.a)().t,v=Object(r.useState)(!1),j=Object(o.a)(v,2),b=j[0],m=j[1];function _onApprove(){return(_onApprove=Object(H.a)(z.a.mark((function _callee(){var e,t,r,i,o,s;return z.a.wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,m(!0),l.next=4,a.approveByID(null===c||void 0===c||null===(e=c.row)||void 0===e?void 0:e.id);case 4:if(t=l.sent,r=t.data,i=t.error,o=t.message,s=void 0===o?"Encountered error while attempting to approve withdrawal":o,r){l.next=11;break}throw new Error((null===i||void 0===i?void 0:i.message)||s);case 11:n&&n(),l.next=17;break;case 14:l.prev=14,l.t0=l.catch(0),Object(ce.a)(l.t0.message,"error");case 17:return l.prev=17,m(!1),l.finish(17);case 20:case"end":return l.stop()}}),_callee,null,[[0,14,17,20]])})))).apply(this,arguments)}return null!==c&&void 0!==c&&c.row?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)("h4",{className:"modal-title w-100",children:l("What do you wish to do?")}),Object(u.jsx)("div",{children:Object(u.jsxs)("p",{children:["Do you wish to approve the transaction with id"," ",Object(u.jsx)("code",{children:null===c||void 0===c||null===(t=c.row)||void 0===t?void 0:t.id})]})}),Object(u.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-default btn-sm","data-dismiss":"modal",onClick:s,disabled:b,children:"No, close"}),Object(u.jsx)("button",{type:"button",disabled:b,className:"btn btn-success text-white btn-sm",onClick:function onClick(){!function onApprove(){return _onApprove.apply(this,arguments)}()},children:b?"Working...":"Yes, approve"})]})]})}):Object(u.jsx)(u.Fragment,{children:"No Data"})}function WithdrawalFeesSetting(e){var t,a=e.services,n=e.useService,i=Object(d.a)().t,s=Object(r.useState)(0),v=Object(o.a)(s,2),j=v[0],b=v[1],m=Object(r.useState)(0),p=Object(o.a)(m,2),h=p[0],O=p[1],f=Object(r.useState)(0),x=Object(o.a)(f,2),g=x[0],y=x[1],_=a.fee;n((t={},Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.CREATE,_.create),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.FINDBYID,_.findByID),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.UPDATEBYID,_.updateByID),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.REMOVEBYID,_.removeByID),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.FIND,_.find),t));function _onWithdrawalFeeChange(){return(_onWithdrawalFeeChange=Object(H.a)(z.a.mark((function _callee(e){return z.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:console.log(e.target.value),b(e.target.value);case 2:case"end":return t.stop()}}),_callee)})))).apply(this,arguments)}function handleResponse(e,t,a){var n=e.data,r=e.error,i=e.message,c=void 0===i?"Error in response":i;try{if(!n)throw new Error(a||(null===r||void 0===r?void 0:r.message)||c);Object(ce.a)(t)}catch(o){Object(ce.a)(o.message,"error")}}function onWithdrawalClick(e){return _onWithdrawalClick.apply(this,arguments)}function _onWithdrawalClick(){return(_onWithdrawalClick=Object(H.a)(z.a.mark((function _callee2(e){var t;return z.a.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:console.log(e),t=0,"WITHDRAWAL"==e?t=j:"TRANSACTION"==e?t=h:"COMMISSION"==e&&(t=g);try{_.find({"where[type]":e}).then((function(a){var n,r,i,c,o,s;console.log(null===a||void 0===a||null===(n=a.data)||void 0===n||null===(r=n.result[0])||void 0===r?void 0:r.id),null!==a&&void 0!==a&&null!==(i=a.data)&&void 0!==i&&null!==(c=i.result[0])&&void 0!==c&&c.id?_.updateByID(null===a||void 0===a||null===(o=a.data)||void 0===o||null===(s=o.result[0])||void 0===s?void 0:s.id,{type:"WITHDRAWAL",amount_in_percent:t}).then((function(t){console.log("updateByID"),console.log(t),handleResponse(t,"".concat(e," fee updated!"))})):_.create({type:e,amount_in_percent:t,fiat:"AED",crypto:"BTC"}).then((function(t){console.log(t),handleResponse(t,"".concat(e," fee created!"))}))}))}catch(n){Object(ce.a)(null===n||void 0===n?void 0:n.message,"error")}finally{console.log("finally")}case 4:case"end":return a.stop()}}),_callee2)})))).apply(this,arguments)}return Object(r.useEffect)((function(){_.find({"where[type]":"WITHDRAWAL"}).then((function(e){var t,a,n,r;console.log(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.result[0])||void 0===a?void 0:a.amount_in_percent),b(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.result[0])||void 0===r?void 0:r.amount_in_percent)})),_.find({"where[type]":"TRANSACTION"}).then((function(e){var t,a,n,r;console.log(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.result[0])||void 0===a?void 0:a.amount_in_percent),O(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.result[0])||void 0===r?void 0:r.amount_in_percent)})),_.find({"where[type]":"COMMISSION"}).then((function(e){var t,a,n,r;console.log(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.result[0])||void 0===a?void 0:a.amount_in_percent),y(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.result[0])||void 0===r?void 0:r.amount_in_percent)}))}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{style:{marginBottom:60,display:"flex",flexDirection:"column",gap:30},children:[Object(u.jsxs)("section",{className:"d-flex justify-content-between",style:{gap:30},children:[Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)("h4",{className:"h5",children:i("Withdrawal fee")}),Object(u.jsx)("small",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fuga modi consequuntur dolore eius fugiat velit. Odio voluptatem nobis eveniet dolorem deserunt odit corporis quibusdam doloremque quisquam, facilis beatae, suscipit neque."})]}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"number",placeholder:"Amount",value:j,pattern:"\\d+",className:"form-control form-control-sm",onChange:function onWithdrawalFeeChange(e){return _onWithdrawalFeeChange.apply(this,arguments)}})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"button",className:"btn btn-success btn-sm",onClick:function onClick(){onWithdrawalClick("WITHDRAWAL")},children:"Save"})})]}),Object(u.jsxs)("section",{className:"d-flex justify-content-between",style:{gap:30},children:[Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)("h4",{className:"h5",children:i("Transaction fee")}),Object(u.jsx)("small",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fuga modi consequuntur dolore eius fugiat velit. Odio voluptatem nobis eveniet dolorem deserunt odit corporis quibusdam doloremque quisquam, facilis beatae, suscipit neque."})]}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"number",placeholder:"amount",value:h,pattern:"\\d+",className:"form-control form-control-sm",onChange:function onTransactionFeeChange(e){console.log(e.target.value),O(e.target.value)}})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"button",className:"btn btn-success btn-sm",onClick:function onClick(){onWithdrawalClick("TRANSACTION")},children:"Save"})})]}),Object(u.jsxs)("section",{className:"d-flex justify-content-between",style:{gap:30},children:[Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)("h4",{className:"h5",children:i("Affiliate commission fee")}),Object(u.jsx)("small",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fuga modi consequuntur dolore eius fugiat velit. Odio voluptatem nobis eveniet dolorem deserunt odit corporis quibusdam doloremque quisquam, facilis beatae, suscipit neque."})]})," ",Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"number",placeholder:"amount",value:g,pattern:"\\d+",className:"form-control form-control-sm",onChange:function onaffiliateFeeChange(e){console.log(e.target.value),y(e.target.value)}})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"button",className:"btn btn-success btn-sm",onClick:function onClick(){onWithdrawalClick("COMMISSION")},children:"Save"})})]})]})})}var De=function WithdrawalFees(){var e=Object(d.a)().t,t=Object(f.a)(),a=t.services,n=t.useService;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{activeMenu:"Fees",motherMenu:"Wallet management"}),Object(u.jsx)("header",{className:"mb-4",children:Object(u.jsx)("h3",{children:e("Fees management")})}),Object(u.jsx)("div",{style:{marginBottom:60},children:Object(u.jsx)(WithdrawalFeesSetting,{services:a,useService:n})})]})},Se=a(730);a(252);function DepositsHistoryTable(e){var t=e.service;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(q,{service:t,mapping:{id:"USER ID",createdAt:"joined"},omit:"*",extras:["id","email","type","currency","amount","status","date"],transformers:{id:function id(e){var t=e.row;return null===t||void 0===t?void 0:t.id},email:function email(e){var t,a,n=e.row;return null===n||void 0===n||null===(t=n.wallet)||void 0===t||null===(a=t.user)||void 0===a?void 0:a.email},type:function type(e){var t,a=e.row;return Object(u.jsx)("div",{className:"text-capitalize",children:null===(t=String(null===a||void 0===a?void 0:a.type))||void 0===t?void 0:t.toLowerCase()})},currency:function currency(e){var t,a=e.row;return null===a||void 0===a||null===(t=a.wallet)||void 0===t?void 0:t.currency},amount:function amount(e){var t=e.row;return String(null===t||void 0===t?void 0:t.quantity)},status:function status(e){var t,a,n=e.row;return Object(u.jsx)(Se.a,{pill:!0,variant:function(e){switch(e){case"active":case"completed":return"success";case"declined":return"danger";default:return"info"}}(null===(t=String(null===n||void 0===n?void 0:n.status))||void 0===t?void 0:t.toLowerCase()),className:"text-white",children:null===(a=String(null===n||void 0===n?void 0:n.status))||void 0===a?void 0:a.toLowerCase()})},date:function date(e){var t=e.row;return Object(u.jsx)(b.a,{format:"MMM Do Y",date:null===t||void 0===t?void 0:t.createdAt})}}})})}var Ee=function Deposits(){var e=Object(d.a)().t,t=Object(f.a)(),a=t.services.transaction,n=(0,t.useService)(Object(c.a)({},null===l.a||void 0===l.a?void 0:l.a.FIND,a.find)),i=n.dispatchRequest;return Object(r.useEffect)((function(){i({type:null===l.a||void 0===l.a?void 0:l.a.FIND,payload:{where:{type:{$or:["DEPOSIT","CREDIT"]}},sudo:!0}})}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{activeMenu:"Deposits",motherMenu:"Wallet management"}),Object(u.jsx)("header",{className:"mb-4",children:Object(u.jsx)("h3",{children:e("Deposits List")})}),Object(u.jsx)("div",{style:{marginBottom:60},children:Object(u.jsx)(DepositsHistoryTable,{service:n})})]})},Ie=a(227);var Ae=function advert_management_page_AdvertsManagement(e){var t,a=e.services,i=e.useService,s=Object(d.a)().t,v=(a.user,a.advert),j=Object(r.useState)(null),m=Object(o.a)(j,2),p=(m[0],m[1],i((t={},Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.RETRIEVE,v.findByID),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.FIND,v.find),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.UPDATE,v.updateByID),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.DROP,v.removeByID),Object(c.a)(t,null===l.a||void 0===l.a?void 0:l.a.CREATE,v.create),t))),h=p.dispatchRequest,O=p.retryDispatch,g=p.serviceMap,y=Object(te.a)(),w=y.isOpen,N=y.onOpen,C=y.onClose,k=y.toggledPayload;return Object(r.useEffect)((function(){h({type:null===l.a||void 0===l.a?void 0:l.a.FIND,payload:{sudo:!0},toast:{success:ce.a,error:function error(e){return Object(ce.a)(e,"error")}}})}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{activeMenu:"",motherMenu:"Advert management"}),Object(u.jsx)("header",{className:"mb-4",children:Object(u.jsx)("h3",{children:s("Advertisements")})}),Object(u.jsx)(ee,{useFormRenderer:function useFormRenderer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:null,payload:null},t=function(){g[null===e||void 0===e?void 0:e.type];try{return"DEACTIVATE"===(null===e||void 0===e?void 0:e.type)?[s("Deactivate advert"),Object(u.jsx)(DeactivateAdvert,{payload:null===e||void 0===e?void 0:e.payload,onModalClose:C,callback:function callback(){return O(null===l.a||void 0===l.a?void 0:l.a.FIND)},close:C})]:[null,null]}catch(t){console.error("Must pass in method and payload key to the formData argument")}}(),a=Object(o.a)(t,2),n=a[0],r=a[1];return[n,Object(u.jsx)(G.a,{children:Object(u.jsx)($.a,{children:r})})]},formData:k,isOpen:w,onClose:C}),Object(u.jsx)("div",{style:{marginBottom:60},children:Object(u.jsx)(q,{service:p,omit:"*",extras:["creation_date","id","username","trade_type","currency_pair","price_set","order_limit","action"],transformers:{creation_date:function creation_date(e){var t=e.row;return null!==t&&void 0!==t&&t.createdAt?Object(u.jsx)(b.a,{format:"YYYY/MM/DD",date:null===t||void 0===t?void 0:t.createdAt}):""},id:function id(e){var t=e.row;return null===t||void 0===t?void 0:t.id},username:function username(e){var t,a,n=e.row;return null!==n&&void 0!==n&&n.user?null===n||void 0===n||null===(t=n.user)||void 0===t||null===(a=t.profile)||void 0===a?void 0:a.pname:"Unknown"},trade_type:function trade_type(e){var t=e.row;return"buy"===(null===t||void 0===t?void 0:t.type)?Object(u.jsx)(Se.a,{variant:"success",className:"text-white px-4",children:null===t||void 0===t?void 0:t.type}):Object(u.jsx)(Se.a,{variant:"danger",className:"px-4",children:null===t||void 0===t?void 0:t.type})},currency_pair:function currency_pair(e){var t=e.row;return"".concat(null===t||void 0===t?void 0:t.crypto,"/").concat(null===t||void 0===t?void 0:t.fiat)},price_set:function price_set(e){var t=e.row;return Object(u.jsxs)("span",{children:[null===t||void 0===t?void 0:t.price," ",Object(u.jsx)("small",{children:null===t||void 0===t?void 0:t.fiat})]})},order_limit:function order_limit(e){var t=e.row;return Object(u.jsxs)("span",{children:[null===t||void 0===t?void 0:t.min_order_qty," ",Object(u.jsx)("small",{children:null===t||void 0===t?void 0:t.fiat})," -"," ",null===t||void 0===t?void 0:t.max_order_qty," ",Object(u.jsx)("small",{children:null===t||void 0===t?void 0:t.fiat})]})},action:function Action(e){var t=e.row,a=Object(r.useState)(t),i=Object(o.a)(a,2),c=i[0],s=i[1],l=Object(r.useState)(!1),d=Object(o.a)(l,2),v=d[0],j=d[1],b=Object(f.a)().services.advert;function finishAction(e){s((function(t){return Object(n.a)(Object(n.a)({},t),{},{published:e})}))}function _activate(){return(_activate=Object(H.a)(z.a.mark((function _callee2(){var e,t,a,n,r;return z.a.wrap((function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,j(!0),i.next=4,b.updateByID(null===c||void 0===c?void 0:c.id,{published:!0});case 4:if(e=i.sent,t=e.data,a=e.error,n=e.message,r=void 0===n?"Encountered error trying to activating advert":n,t){i.next=11;break}throw new Error((null===a||void 0===a?void 0:a.message)||r);case 11:null!==t&&void 0!==t&&t.status?(finishAction(!0),Object(ce.a)(Object(u.jsxs)("p",{children:["Activated advert"," ",Object(u.jsx)("code",{className:"px-2",children:null===c||void 0===c?void 0:c.id})]}))):(finishAction(),Object(ce.a)(Object(u.jsxs)(u.Fragment,{children:["Record ",Object(u.jsx)("code",{children:null===c||void 0===c?void 0:c.id})," not updated"]}),"error")),i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),Object(ce.a)(i.t0.message,"error");case 17:return i.prev=17,j(!1),i.finish(17);case 20:case"end":return i.stop()}}),_callee2,null,[[0,14,17,20]])})))).apply(this,arguments)}function checkStatus(){return Boolean(c.published)}return c?v?Object(u.jsx)(_.b.Loading,{}):Object(u.jsx)("div",{style:{display:"flex",gap:10},children:Object(u.jsxs)("small",{children:[Object(u.jsx)(Ie.b,{color:checkStatus()?"primary":"default",name:null===c||void 0===c?void 0:c.id,onChange:function handleChange(){checkStatus()?N({type:"DEACTIVATE",payload:{row:t,setRowData:finishAction}}):function activate(){return _activate.apply(this,arguments)}()},inputProps:{"aria-label":"controlled"},checked:checkStatus()}),Object(u.jsx)("span",{className:"fas  ".concat(checkStatus()?"fa-check-circle text-success":"fa-times-circle text-danger")})]})}):Object(u.jsx)(u.Fragment,{children:"No Data"})}}})})]})};function DeactivateAdvert(e){var t,a=e.payload,n=void 0===a?{row:null,setRowData:function setRowData(){return null}}:a,i=e.onModalClose,c=(e.callback,Object(f.a)().services.advert),s=Object(r.useState)(!1),l=Object(o.a)(s,2),d=l[0],v=l[1];function _onDeactivate(){return(_onDeactivate=Object(H.a)(z.a.mark((function _callee3(){var e,t,a,r,o,s,l,d;return z.a.wrap((function _callee3$(j){for(;;)switch(j.prev=j.next){case 0:return j.prev=0,v(!0),j.next=4,c.updateByID(null===n||void 0===n||null===(e=n.row)||void 0===e?void 0:e.id,{published:!1});case 4:if(t=j.sent,a=t.data,r=t.error,o=t.message,s=void 0===o?"Encountered error trying to deactivate advert":o,a){j.next=11;break}throw new Error((null===r||void 0===r?void 0:r.message)||s);case 11:null!==a&&void 0!==a&&a.status?(Object(ce.a)(Object(u.jsxs)("p",{children:["Deactivated advert ",Object(u.jsx)("code",{className:"px-2",children:null===n||void 0===n||null===(l=n.row)||void 0===l?void 0:l.id})]})),n.setRowData(!1)):Object(ce.a)(Object(u.jsxs)(u.Fragment,{children:["Record ",Object(u.jsx)("code",{children:null===n||void 0===n||null===(d=n.row)||void 0===d?void 0:d.id})," not updated!"]}),"error"),j.next=17;break;case 14:j.prev=14,j.t0=j.catch(0),Object(ce.a)(j.t0.message,"error");case 17:return j.prev=17,v(!1),i(),j.finish(17);case 21:case"end":return j.stop()}}),_callee3,null,[[0,14,17,21]])})))).apply(this,arguments)}return null!==n&&void 0!==n&&null!==(t=n.row)&&void 0!==t&&t.id?Object(u.jsxs)("div",{className:"",children:[Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)("h4",{className:"modal-title",children:"Are you sure?"}),Object(u.jsx)("p",{children:"Do you really want to deactivate this records?"})]}),Object(u.jsxs)("div",{className:"modal-footer d-flex justify-content-between",children:[Object(u.jsx)("button",{disabled:d,type:"button",className:"btn btn-default btn-sm","data-dismiss":"modal",onClick:i,children:"Cancel"}),Object(u.jsx)("button",{disabled:d,type:"button",onClick:function onDeactivate(){return _onDeactivate.apply(this,arguments)},className:"btn btn-danger btn-sm",children:"Delete"})]})]}):Object(u.jsx)(u.Fragment,{children:"Missing ID"})}var Re=function OrdersManagement(){var e,t=Object(f.a)(),a=t.services.order,n=t.useService,i=Object(d.a)().t,o=n((e={},Object(c.a)(e,null===l.a||void 0===l.a?void 0:l.a.RETRIEVE,a.findByID),Object(c.a)(e,null===l.a||void 0===l.a?void 0:l.a.UPDATE,a.updateByID),Object(c.a)(e,null===l.a||void 0===l.a?void 0:l.a.DROP,a.removeByID),Object(c.a)(e,null===l.a||void 0===l.a?void 0:l.a.BULK_RETRIEVE,a.find),e)),s=o.dispatchRequest,v=Object(te.a)();return v.isOpen,v.onOpen,v.onClose,v.toggledPayload,Object(r.useEffect)((function(){s({type:null===l.a||void 0===l.a?void 0:l.a.BULK_RETRIEVE,payload:{sudo:!0},toast:{success:order_management_page_notifySuccess,error:order_management_page_notifyError}})}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{activeMenu:"",motherMenu:"Advert management"}),Object(u.jsx)("header",{className:"mb-4",children:Object(u.jsx)("h3",{children:i("Orders")})}),Object(u.jsxs)(G.a,{style:{marginBottom:20,width:"100%"},children:[Object(u.jsx)($.a,{children:Object(u.jsxs)("div",{className:"input-group search-area right d-lg-inline-flex d-none",children:[Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:i("Filter in record")}),Object(u.jsx)("div",{className:"input-group-append",children:Object(u.jsx)("span",{className:"input-group-text",children:Object(u.jsx)(p.b,{to:"#",children:Object(u.jsx)("i",{className:"themify-glyph-162"})})})})]})}),Object(u.jsx)($.a,{sm:"auto",style:{padding:0}})]}),Object(u.jsx)("div",{style:{marginBottom:60},children:Object(u.jsx)(q,{service:o,omit:"*",extras:["id","username","payment_channels","time_limit (mins)","type","status","date"],transformers:{id:function id(e){var t=e.row;return null===t||void 0===t?void 0:t.id},username:function username(e){var t,a,n=e.row;return null!==n&&void 0!==n&&n.user?null===n||void 0===n||null===(t=n.user)||void 0===t||null===(a=t.profile)||void 0===a?void 0:a.pname:""},type:function type(e){var t,a,n,r=e.row;return"buy"===(null===r||void 0===r||null===(t=r.advert)||void 0===t?void 0:t.type)?Object(u.jsx)(Se.a,{variant:"success",className:"text-white px-4",children:null===r||void 0===r||null===(a=r.advert)||void 0===a?void 0:a.type}):Object(u.jsx)(Se.a,{variant:"danger",className:"px-4",children:null===r||void 0===r||null===(n=r.advert)||void 0===n?void 0:n.type})},payment_channels:function payment_channels(e){var t,a,n,r=e.row;return(null===r||void 0===r||null===(t=r.advert)||void 0===t?void 0:t.payment_methods)&&(null===r||void 0===r||null===(a=r.advert)||void 0===a||null===(n=a.payment_methods)||void 0===n?void 0:n.join(", "))},"time_limit (mins)":function time_limitMins(e){var t=e.row;return(null===t||void 0===t?void 0:t.advert.payment_ttl_mins)||""},status:function status(e){var t,a=e.row,status=null===(t=String(null===a||void 0===a?void 0:a.status))||void 0===t?void 0:t.toLowerCase();switch(status){case"completed":return Object(u.jsx)(Se.a,{variant:"success",className:"text-white",children:status});case"disputed":case"cancelled":return Object(u.jsx)(Se.a,{variant:"danger",children:status});default:return Object(u.jsx)(Se.a,{variant:"default",children:status})}},date:function date(e){var t=e.row;return Object(u.jsx)(b.a,{format:"YYYY/MM/DD",date:null===t||void 0===t?void 0:t.archivedAt})}}})})]})};function order_management_page_notifySuccess(){h.b.success("Success !",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}function order_management_page_notifyError(e){h.b.error(e||"Request Error!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}var Fe=function P2PTrades(){var e,t=Object(f.a)(),a=t.services.order,n=t.useService,i=Object(d.a)().t,o=n((e={},Object(c.a)(e,null===l.a||void 0===l.a?void 0:l.a.RETRIEVE,a.findByID),Object(c.a)(e,null===l.a||void 0===l.a?void 0:l.a.UPDATE,a.updateByID),Object(c.a)(e,null===l.a||void 0===l.a?void 0:l.a.DROP,a.removveByID),Object(c.a)(e,null===l.a||void 0===l.a?void 0:l.a.BULK_RETRIEVE,a.find),e)),s=o.dispatchRequest;return Object(r.useEffect)((function(){s({type:null===l.a||void 0===l.a?void 0:l.a.BULK_RETRIEVE,payload:{sudo:!0},toast:{success:p2p_trade_history_page_notifySuccess,error:p2p_trade_history_page_notifyError}})}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{activeMenu:"Trade history",motherMenu:"P2P Trade management"}),Object(u.jsx)("header",{className:"mb-4",children:Object(u.jsx)("h3",{children:i("Trade History")})}),Object(u.jsxs)(G.a,{style:{marginBottom:20,width:"100%"},children:[Object(u.jsx)($.a,{children:Object(u.jsxs)("div",{className:"input-group search-area right d-lg-inline-flex d-none",children:[Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:i("Filter in record")}),Object(u.jsx)("div",{className:"input-group-append",children:Object(u.jsx)("span",{className:"input-group-text",children:Object(u.jsx)(p.b,{to:"#",children:Object(u.jsx)("i",{className:"themify-glyph-162"})})})})]})}),Object(u.jsx)($.a,{sm:"auto",style:{padding:0}})]}),Object(u.jsx)("div",{style:{marginBottom:60},children:Object(u.jsx)(q,{service:o,omit:"*",extras:["creation_date","id","email","trade_type","currency_pair"],transformers:{id:function id(e){var t=e.row;return null===t||void 0===t?void 0:t.id},email:function email(e){var t,a,n=e.row;return null===n||void 0===n||null===(t=n.advert)||void 0===t||null===(a=t.user)||void 0===a?void 0:a.email},trade_type:function trade_type(e){var t=e.row;return"buy"===(null===t||void 0===t?void 0:t.advert.type)?Object(u.jsx)(Se.a,{variant:"success",className:"text-white px-4",children:null===t||void 0===t?void 0:t.advert.type}):Object(u.jsx)(Se.a,{variant:"danger",className:"px-4",children:null===t||void 0===t?void 0:t.advert.type})},creation_date:function creation_date(e){var t,a=e.row;return Object(u.jsx)(b.a,{format:"YYYY/MM/DD",date:null===a||void 0===a||null===(t=a.advert)||void 0===t?void 0:t.createdAt})},currency_pair:function currency_pair(e){var t,a,n=e.row;return"".concat(null===n||void 0===n||null===(t=n.advert)||void 0===t?void 0:t.crypto,"/").concat((null===n||void 0===n||null===(a=n.advert)||void 0===a?void 0:a.fiat)||"")}}})})]})};function p2p_trade_history_page_notifySuccess(){h.b.success("Success !",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}function p2p_trade_history_page_notifyError(e){h.b.error(e||"Request Error!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}var Be=function p2p_disputes_page_P2PTrades(){var e,t=Object(f.a)(),a=t.services.order,n=t.useService,i=Object(d.a)().t,o=n((e={},Object(c.a)(e,null===l.a||void 0===l.a?void 0:l.a.RETRIEVE,a.findByID),Object(c.a)(e,null===l.a||void 0===l.a?void 0:l.a.UPDATE,a.updateByID),Object(c.a)(e,null===l.a||void 0===l.a?void 0:l.a.DROP,a.removveByID),Object(c.a)(e,null===l.a||void 0===l.a?void 0:l.a.BULK_RETRIEVE,a.find),e)),s=o.dispatchRequest;return Object(r.useEffect)((function(){s({type:null===l.a||void 0===l.a?void 0:l.a.BULK_RETRIEVE,payload:{sudo:!0,where:{status:"DISPUTED"}},toast:{success:p2p_disputes_page_notifySuccess,error:p2p_disputes_page_notifyError}})}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{activeMenu:"Disputes",motherMenu:"P2P Trade management"}),Object(u.jsx)("header",{className:"mb-4",children:Object(u.jsx)("h3",{children:i("Disputes")})}),Object(u.jsx)("div",{style:{marginBottom:60},children:Object(u.jsx)(q,{service:o,omit:"*",extras:["creation_date","id","email","trade_type","currency_pair"],transformers:{id:function id(e){var t=e.row;return null===t||void 0===t?void 0:t.id},email:function email(e){var t,a,n=e.row;return null===n||void 0===n||null===(t=n.advert)||void 0===t||null===(a=t.user)||void 0===a?void 0:a.email},trade_type:function trade_type(e){var t=e.row;return"buy"===(null===t||void 0===t?void 0:t.advert.type)?Object(u.jsx)(Se.a,{variant:"success",className:"text-white px-4",children:null===t||void 0===t?void 0:t.advert.type}):Object(u.jsx)(Se.a,{variant:"danger",className:"px-4",children:null===t||void 0===t?void 0:t.advert.type})},creation_date:function creation_date(e){var t,a=e.row;return Object(u.jsx)(b.a,{format:"YYYY/MM/DD",date:null===a||void 0===a||null===(t=a.advert)||void 0===t?void 0:t.createdAt})},currency_pair:function currency_pair(e){var t,a,n=e.row;return"".concat(null===n||void 0===n||null===(t=n.advert)||void 0===t?void 0:t.crypto,"/").concat((null===n||void 0===n||null===(a=n.advert)||void 0===a?void 0:a.fiat)||"")}}})})]})};function p2p_disputes_page_notifySuccess(){h.b.success("Success !",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}function p2p_disputes_page_notifyError(e){h.b.error(e||"Request Error!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}var Me,Te,Pe,Le,qe,Ue,Ye,Ve=function ChatHistory(){var e,t=Object(f.a)(),a=t.services,n=(a.user,a.chat),i=t.useService,o=Object(d.a)().t,s=i(Object(c.a)({},null===l.a||void 0===l.a?void 0:l.a.BULK_RETRIEVE,n.find)),v=s.data,j=s.dispatchRequest,m=s.isFetching;return Object(r.useEffect)((function(){j({type:l.a.BULK_RETRIEVE,payload:{sudo:!0}})}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{activeMenu:"History",motherMenu:"Chat management"}),Object(u.jsx)("header",{className:"mb-4",children:Object(u.jsx)("h3",{children:o("Chat History")})}),Object(u.jsxs)(G.a,{style:{marginBottom:20,width:"100%"},children:[Object(u.jsx)($.a,{children:m?o("Loading..."):null!==v&&void 0!==v&&null!==(e=v.results)&&void 0!==e&&e.length?Object(u.jsxs)("div",{className:"input-group search-area right d-lg-inline-flex d-none",children:[Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"Filter in record"}),Object(u.jsx)("div",{className:"input-group-append",children:Object(u.jsx)("span",{className:"input-group-text",children:Object(u.jsx)(p.b,{to:"#",children:Object(u.jsx)("i",{className:"themify-glyph-162"})})})})]}):null}),Object(u.jsx)($.a,{sm:"auto",style:{padding:0}})]}),Object(u.jsx)("div",{style:{marginBottom:60},children:Object(u.jsx)(q,{service:s,mapping:{},omit:"*",extras:["creation_date","visitor_email","country","browser","duration"],transformers:{creation_date:function creation_date(e){var t=e.row;return Object(u.jsx)(b.a,{format:"YYYY/MM/DD",date:null===t||void 0===t?void 0:t.createdAt})},visitor_email:function visitor_email(e){var t=e.row;return null===t||void 0===t?void 0:t.visitor_email},country:function country(e){var t=e.row;return null===t||void 0===t?void 0:t.country},browser:function browser(e){var t=e.row;return null===t||void 0===t?void 0:t.browser},duration:function duration(e){var t=e.row;return Object(u.jsx)(b.a,{to:null===t||void 0===t?void 0:t.ended_at,duration:!0,from:null===t||void 0===t?void 0:t.started_at})},action:function action(e){e.key,e.value;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:"themify-glyph-165"})," Delete"]})}}})})]})},He=a(459),We=a.n(He),ze=a(460),Ge=a(742),$e=w.IdenticonAvatar,Ke=w.Empty,Ze=Object(m.a)(C.a)(Me||(Me=Object(v.a)(["\n  .chat-type-header {\n    padding: 20px;\n    background-color: #fff;\n    font-weight: 600;\n    border-top-left-radius: inherit;\n    border-top-right-radius: inherit;\n    color: #333;\n    /* border-bottom: 1px solid #e6e6e6; */\n  }\n"]))),Je=m.a.section(Te||(Te=Object(v.a)(["\n  border-radius: inherit;\n  min-height: 500px;\n  max-height: 600px;\n  display: grid;\n  grid-template-columns: 300px 1fr;\n  grid-template-rows: 1fr auto auto;\n  @media screen and (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n"]))),Qe=m.a.div(Pe||(Pe=Object(v.a)(["\n  background: #fff;\n  border-bottom-left-radius: inherit;\n  grid-area: span 2;\n  /* position: sticky;\n  top: 0; */\n  .contacts {\n    .contact-first-letter {\n      padding: 7px 1rem;\n    }\n    .contact_single {\n      align-items: center;\n      border-top: 1px solid #f3f3f3;\n      &:hover {\n        background: #ececec55;\n        cursor: pointer;\n      }\n      .contact_single_info {\n        display: flex;\n        gap: 10px;\n        padding: 8px 1rem;\n        align-items: center;\n\n        .img_cont {\n          height: 40px;\n          width: 40px;\n          position: relative;\n          img {\n            width: 100%;\n          }\n          .online_icon {\n            background: #68cf29;\n            position: absolute;\n            width: 12px;\n            height: 12px;\n            border-radius: 15px;\n            right: -1px;\n            bottom: 0;\n            border: 2px solid #fff;\n            &.offline {\n              background: #ff4c41;\n            }\n          }\n        }\n        .user_info {\n          overflow: hidden;\n          span {\n            font-size: 15px;\n            color: #000;\n            font-weight: 500;\n            margin-bottom: 5px;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            overflow: hidden;\n            display: block;\n          }\n          p {\n            font-size: 13px;\n            margin-bottom: 0;\n            line-height: 1;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            overflow: hidden;\n            display: block;\n            max-width: 170px;\n          }\n        }\n      }\n    }\n  }\n  @media screen and (max-width: 768px) {\n    display: none;\n    &.active {\n      position: absolute;\n      display: block;\n    }\n  }\n"]))),Xe=m.a.section(Le||(Le=Object(v.a)(['\n  display: flex;\n  background: #f6f6f677;\n  flex-direction: row;\n  gap: 10px;\n  padding: 10px;\n  align-items: center;\n  .chat-message-input {\n    flex-grow: 1;\n    > input.message_box {\n      width: 100%;\n      padding: 1rem 1.5rem;\n      border-radius: 32px;\n      border: 1px solid #ededed;\n      outline: none;\n    }\n  }\n  button {\n    border: none;\n    background: none;\n    padding: 1rem;\n    position: relative;\n    z-index: 1;\n    &::before {\n      content: "";\n      position: absolute;\n      width: 95%;\n      height: 95%;\n      z-index: -1;\n      top: 2.5%;\n      left: 2.5%;\n      display: block;\n      background: #ededed;\n      border-radius: 100%;\n      transform: scale(0);\n      transition: transform 0.25s ease-in;\n    }\n    &:hover {\n      &::before {\n        transform: scale(1);\n      }\n    }\n    span {\n      z-index: 1;\n      display: block;\n    }\n  }\n']))),et=m.a.section(qe||(qe=Object(v.a)(["\n  max-height: 100%;\n  background: #fbfbfb;\n  display: flex;\n  flex-direction: column;\n"]))),tt=m.a.section(Ue||(Ue=Object(v.a)(["\n  overflow-y: auto;\n  padding: 1rem;\n  flex-grow: 1;\n"]))),at=m.a.div(Ye||(Ye=Object(v.a)(["\n  --bg: ",";\n  --color: ",";\n  display: flex;\n  margin-bottom: 20px;\n  flex-direction: ",";\n  gap: 10px;\n  .img_cont_msg {\n    width: 30px;\n    height: 30px;\n    display: block;\n    max-width: 30px;\n    min-width: 30px;\n    img {\n      width: 100%;\n    }\n  }\n  .msg_container {\n    background-color: var(--bg);\n    margin-left: 10px;\n    max-width: 320px;\n    border-radius: ",';\n    padding: 10px 15px;\n    color: var(--color);\n    position: relative;\n\n    &:after {\n      content: "";\n      position: absolute;\n      border-bottom: 10px solid transparent;\n      border-top: 0 solid;\n      top: 0;\n      ',"\n    }\n    .msg_time {\n      display: block;\n      font-size: 11px;\n      color: var(--color);\n      margin-top: 5px;\n      opacity: 0.5;\n    }\n  }\n"])),(function(e){return e.send?"#85c4f940":"var(--primary)"}),(function(e){return e.send?"#222":"#fff"}),(function(e){return e.send?"row-reverse":"row"}),(function(e){return e.send?"1.375rem 0 1.375rem 1.375rem":"0 1.375rem 1.375rem 1.375rem"}),(function(e){return e.send?"right: -10px;\n          border-left: 10px solid transparent":"\n          left: -10px;\n          border-right: 10px solid transparent;\n          border-right-color: var(--bg);\n          border-top-color: var(--bg)"}));function Messenger(){var e,t,a=Object(d.a)().t,n=Object(f.a)(),i=n.services,v=i.user,j=(i.chat,(0,n.useService)(Object(c.a)({},null===l.a||void 0===l.a?void 0:l.a.BULK_RETRIEVE,v.find))),b=(Object(s.c)((function(e){return e.session})).user,Object(r.useRef)()),m=Object(r.useState)(!0),p=Object(o.a)(m,2),h=p[0],O=(p[1],Object(r.useState)(!1)),x=Object(o.a)(O,2),g=x[0],y=x[1],_=Object(r.useState)(null),w=Object(o.a)(_,2),N=w[0],C=w[1],k=Object(r.useState)(""),D=Object(o.a)(k,2),S=D[0],E=D[1],I=Object(r.useState)(null),R=Object(o.a)(I,2),F=R[0],B=R[1];return Object(r.useEffect)((function(){j.dispatchRequest({type:[null===l.a||void 0===l.a?void 0:l.a.BULK_RETRIEVE],payload:{sudo:!0}})}),[]),Object(r.useEffect)((function(){var e=void 0;return function(){e&&e.disconnect()}}),[]),Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)("div",{className:"chat-type-header",children:a("Type")}),Object(u.jsxs)(Je,{children:[Object(u.jsx)(Qe,{className:"chat-users contacts_card dz-chat-user-box",children:Object(u.jsx)(We.a,{children:Object(u.jsx)("ul",{className:"contacts",children:j&&(null===j||void 0===j?void 0:j.data)&&(null===j||void 0===j||null===(e=j.data)||void 0===e||null===(t=e.result)||void 0===t?void 0:t.map((function(e,t){return Object(u.jsx)("li",{className:"contact_single",onClick:function onClick(){return function onStartChart(e){var t;if(g||y(!0),b.current){var a,n;t=b.current,F&&(null===(n=t)||void 0===n||n.emit("chat::end",F)),null===(a=t)||void 0===a||a.emit("chat::start",e,(function(e){C(e)})),B(e)}}(null===e||void 0===e?void 0:e.id)},children:Object(u.jsxs)("div",{className:"contact_single_info bd-highlight",children:[Object(u.jsxs)("div",{className:"img_cont ",children:[Object(u.jsx)("div",{className:"img_cont rounded-circle user_img overflow-hidden",children:Object(u.jsx)($e,{size:50,alt:"",id:null===e||void 0===e?void 0:e.id})}),Object(u.jsx)("span",{className:"online_icon ".concat(null!==e&&void 0!==e&&e.online?"online":"offline")})]}),Object(u.jsxs)("div",{className:"user_info",children:[Object(u.jsx)("span",{children:(null===e||void 0===e?void 0:e.nicknamme)||(null===e||void 0===e?void 0:e.email)||"Unamed"}),Object(u.jsx)("p",{children:null!==e&&void 0!==e&&e.online?"online":"offline"})]})]})},t)})))})})}),Object(u.jsx)(et,{children:g?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(tt,{children:Object(u.jsx)(We.a,{className:"card-body contacts_body p-0 dz-scroll  ".concat(h?"ps ps--active-y":""),children:N?N.map((function(e,t,a){var n=Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"img_cont_msg",children:Object(u.jsx)($e,{size:50,alt:"",id:null===v||void 0===v?void 0:v.id})}),Object(u.jsxs)("div",{className:"msg_container",children:[e.text,Object(u.jsx)("span",{className:"msg_time",children:Object(Ge.a)(new Date(e.createdAt),new Date,{addSuffix:!0})})]})]}),r=(null===e||void 0===e?void 0:e.sender_id)==(null===v||void 0===v?void 0:v.id);return Object(u.jsx)(at,{send:r,ref:function ref(e){t+1===a.length&&(null===e||void 0===e||e.scrollIntoView())},children:e?n:null},e.id)})):Object(u.jsx)(Ke,{})})}),Object(u.jsxs)(Xe,{children:[Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"botton",children:Object(u.jsx)("span",{className:"simple-paper-clip"})})}),Object(u.jsx)("div",{className:"chat-message-input",children:Object(u.jsx)("input",{onChange:function onMsgChange(e){e.target.value&&E(e.target.value)},value:S,type:"text",name:"message_box",id:"message_box",className:"message_box",placeholder:"Enter message here...",onKeyDown:function onKeyDown(e){"Enter"===e.key&&(b.current&&F&&b.current.emit("chat::message",{message:S,receiverId:F},(function(e){C((function(t){return t?[].concat(Object(A.a)(t),[e]):[e]}))})),E(""))}})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"botton",children:Object(u.jsx)("span",{className:"simple-microphone"})})})]})]}):Object(u.jsx)(Ke.Chat,{})})]})]})}var nt=function ChatMessenger(){var e=Object(d.a)().t;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{activeMenu:"Messenger",motherMenu:"Chat management"}),Object(u.jsx)("header",{className:"mb-4",children:Object(u.jsx)("h3",{children:e("Chat Messenger")})}),Object(u.jsx)(G.a,{style:{marginBottom:20,width:"100%"},children:Object(u.jsx)($.a,{children:Object(u.jsx)(Ze,{children:Object(u.jsx)(Messenger,{})})})})]})};function auth_security_page_notifySuccess(){h.b.success("Success !",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}function auth_security_page_notifyError(e){h.b.error(e||"Request Error!",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}var rt=function AuthSecurityMgmt(e){e.services;var t=e.useService,a=Object(f.a)().services.user,n=Object(d.a)().t,i=t(Object(c.a)({},null===l.a||void 0===l.a?void 0:l.a.BULK_RETRIEVE,a.find)),o=i.dispatchRequest;return Object(r.useEffect)((function(){o({type:null===l.a||void 0===l.a?void 0:l.a.BULK_RETRIEVE,toast:{success:auth_security_page_notifySuccess,error:auth_security_page_notifyError},payload:{order:JSON.stringify([["createdAt","DESC"],["updatedAt","DESC"]]),include:"security",sudo:!0}})}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{activeMenu:"Security List",motherMenu:"Authentication Management"}),Object(u.jsx)("header",{className:"mb-4",children:Object(u.jsxs)("h3",{children:[n("List of Security")," "]})}),Object(u.jsx)("div",{style:{marginBottom:60},children:Object(u.jsx)(q,{service:i,mapping:{iso_code:"Symbol"},omit:"*",extras:["user_name","email","mobile_number","two_factor"],transformers:{user_name:function user_name(e){var t,a=e.row;return console.log(a),null===a||void 0===a||null===(t=a.profile)||void 0===t?void 0:t.pname},email:function email(e){var t=e.row;return null===t||void 0===t?void 0:t.email},mobile_number:function mobile_number(e){var t,a=e.row;return(null===a||void 0===a||null===(t=a.profile)||void 0===t?void 0:t.phone)||Object(u.jsx)("small",{className:"badge badge-default text-white",children:"No mobile number"})},two_factor:function two_factor(e){var t,a=e.row;return Object(u.jsx)(u.Fragment,{children:null!==a&&void 0!==a&&null!==(t=a.security)&&void 0!==t&&t.two_factor?Object(u.jsx)("small",{className:"badge badge-success text-white",children:n("enabled")}):Object(u.jsx)("small",{className:"badge badge-danger",children:n("disabled")})})}}})})]})},it=a(441),ct=a(237);var ot=function SupportRegister(e){e.services;var t=Object(d.a)().t,a=Object(te.a)();a.isOpen,a.onOpen,a.onClose,a.toggledPayload;var c=Object(f.a)(),s=c.services,l=(s.currency,s.faq),v=(c.useService,[{name:"User Guide",subcategory:["Information Use","Certification process","deposit and withdrawal","Information Use"]},{name:"Frequently Asked Questions",subcategory:["Account","Signup / Security Level / Withdrawal","Transactions / Assets","Deposit / Withdraw in KRW","Digital asset deposit/withdrawal","Digital asset misdeposit","Kakao Pay","Terms related to digital assets","Other inquiries"]}]),j=Object(i.h)(),b=Object(r.useState)([]),m=Object(o.a)(b,2),h=(m[0],m[1]),O=Object(r.useState)([]),g=Object(o.a)(O,2),y=g[0],_=g[1],w=Object(r.useReducer)((function formReducer(e,t){var a=t.type,r=t.value;switch(a){case"question":return Object(n.a)(Object(n.a)({},e),{},{question:r});case"answer":return Object(n.a)(Object(n.a)({},e),{},{answer:r});case"category":return Object(n.a)(Object(n.a)({},e),{},{category:r});case"subcategory":return Object(n.a)(Object(n.a)({},e),{},{subcategory:r});case"link":return Object(n.a)(Object(n.a)({},e),{},{link:r});default:return e}}),{question:"",answer:"",category:"",subcategory:"",link:""}),N=Object(o.a)(w,2),C=N[0],k=N[1],D=Object(r.useState)(""),S=Object(o.a)(D,2),E=S[0],I=S[1],A=Object(r.useState)(""),R=Object(o.a)(A,2),F=R[0],B=R[1],M=Object(r.useState)(""),T=Object(o.a)(M,2),P=T[0],L=T[1],q=Object(r.useState)(""),U=Object(o.a)(q,2),Y=U[0],V=U[1],W=Object(r.useState)(""),G=Object(o.a)(W,2),$=G[0],Z=G[1],J=Object(ct.a)(),Q=J.id;J.next,Object(r.useEffect)(Object(H.a)(z.a.mark((function _callee(){var e,t,a,n,r,i;return z.a.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,!Q){c.next=12;break}return e={sudo:!0},c.next=5,l.findByID(Q,e);case 5:if(t=c.sent,a=t.data,n=t.error,r=t.message,a){c.next=11;break}throw new Error((null===n||void 0===n?void 0:n.message)||r);case 11:a&&(k({type:"question",value:null===a||void 0===a?void 0:a.question}),k({type:"answer",value:null===a||void 0===a?void 0:a.answer}),k({type:"category",value:null===a||void 0===a?void 0:a.category}),k({type:"subcategory",value:null===a||void 0===a?void 0:a.subcategory}),k({type:"link",value:null===a||void 0===a?void 0:a.link}),i=v.find((function(e){return e.name===(null===a||void 0===a?void 0:a.category)})),_(i.subcategory));case 12:c.next=17;break;case 14:c.prev=14,c.t0=c.catch(0),console.log("Error",c.t0);case 17:case"end":return c.stop()}}),_callee,null,[[0,14]])}))),[Q]);var X=function(){var e=Object(H.a)(z.a.mark((function _callee2(){var e,t,a,n,r,i,c,o,s;return z.a.wrap((function _callee2$(d){for(;;)switch(d.prev=d.next){case 0:if(e={sudo:!0},""==(null===C||void 0===C?void 0:C.question)&&I("question is required"),""==(null===C||void 0===C?void 0:C.answer)&&B("answer is required"),""==(null===C||void 0===C?void 0:C.category)&&L("category is required"),""==(null===C||void 0===C?void 0:C.link)&&V("link is required"),""==(null===C||void 0===C?void 0:C.subcategory)&&Z("subcategory is required"),!Q){d.next=26;break}if(""==(null===C||void 0===C?void 0:C.question)||""==(null===C||void 0===C?void 0:C.answer)||""==(null===C||void 0===C?void 0:C.category)||""==(null===C||void 0===C?void 0:C.link)||""==(null===C||void 0===C?void 0:C.subcategory)){d.next=24;break}return d.prev=8,d.next=11,l.updateByID(Q,C);case 11:if(t=d.sent,a=t.error,n=t.data,r=t.message,n&&j.push("/admin/support-board"),n){d.next=18;break}throw new Error((null===a||void 0===a?void 0:a.message)||r);case 18:support_register_page_notifySuccess(),d.next=24;break;case 21:d.prev=21,d.t0=d.catch(8),support_register_page_notifyError(d.t0.message);case 24:d.next=43;break;case 26:if(""==(null===C||void 0===C?void 0:C.question)||""==(null===C||void 0===C?void 0:C.answer)||""==(null===C||void 0===C?void 0:C.category)||""==(null===C||void 0===C?void 0:C.link)||""==(null===C||void 0===C?void 0:C.subcategory)){d.next=43;break}return d.prev=27,d.next=30,l.create(e,C);case 30:if(i=d.sent,c=i.error,o=i.data,s=i.message,o&&j.push("/admin/support-board"),o){d.next=37;break}throw new Error((null===c||void 0===c?void 0:c.message)||s);case 37:support_register_page_notifySuccess(),d.next=43;break;case 40:d.prev=40,d.t1=d.catch(27),support_register_page_notifyError(d.t1.message);case 43:case"end":return d.stop()}}),_callee2,null,[[8,21],[27,40]])})));return function onSubmit(){return e.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{activeMenu:"",motherMenu:"Advert management"}),Object(u.jsx)("header",{className:"mb-4",children:Object(u.jsx)("h3",{children:t("Notice Registration & Edit")})}),Object(u.jsx)(u.Fragment,{}),Object(u.jsxs)(ae.a.Group,{className:"mb-4 col-xl-6 col-lg-6",controlId:"bank_name",children:[Object(u.jsx)("i",{className:"fas fa-caret-right"}),Object(u.jsx)(ae.a.Label,{children:"question"}),Object(u.jsx)(ae.a.Control,{type:"text",name:"question",required:!0,minLength:"3",defaultValue:null===C||void 0===C?void 0:C.question,onChange:function onChange(e){k({type:"question",value:e.target.value})}}),Object(u.jsx)("small",{className:"text-danger",children:E})]}),Object(u.jsxs)(ae.a.Group,{className:"mb-4 col-xl-6 col-lg-6",controlId:"bank_name",children:[Object(u.jsx)("i",{className:"fas fa-caret-right"}),Object(u.jsx)(ae.a.Label,{children:"answer"}),Object(u.jsx)(ae.a.Control,{type:"text",name:"answer",required:!0,minLength:"3",defaultValue:null===C||void 0===C?void 0:C.answer,onChange:function onChange(e){k({type:"answer",value:e.target.value})}}),Object(u.jsx)("small",{className:"text-danger",children:F})]}),Object(u.jsxs)(ae.a.Group,{className:"mb-4 col-xl-6 col-lg-6",controlId:"bank_name",children:[Object(u.jsx)("i",{className:"fas fa-caret-right"}),Object(u.jsx)(ae.a.Label,{children:"Category"}),Object(u.jsxs)(Ie.j,{name:"category",value:null===C||void 0===C?void 0:C.category,onChange:function onChange(e){!function selectChange(e){if(""!==e){k({type:"category",value:e}),h(e);var t=v.find((function(t){return t.name===e})).subcategory;_(t)}else _([])}(e.target.value)},children:[Object(u.jsx)("option",{value:"",children:"Select Category"}),v.map((function(e,t){return Object(u.jsx)("option",{value:e.name,children:e.name},t)}))]}),Object(u.jsx)("small",{className:"text-danger",children:P})]}),Object(u.jsxs)(ae.a.Group,{className:"mb-4 col-xl-6 col-lg-6",controlId:"bank_name",children:[Object(u.jsx)("i",{className:"fas fa-caret-right"}),Object(u.jsx)(ae.a.Label,{children:"subcategory"}),Object(u.jsxs)(Ie.j,{name:"subcategory",onChange:function onChange(e){k({type:"subcategory",value:e.target.value})},children:[Object(u.jsx)("option",{value:"",children:"select subcategory"}),y.map((function(e){return Object(u.jsx)("option",{value:e,selected:(null===C||void 0===C?void 0:C.subcategory)===e,children:e})}))]}),Object(u.jsx)("small",{className:"text-danger",children:$})]}),Object(u.jsxs)(ae.a.Group,{className:"mb-4 col-xl-6 col-lg-6",controlId:"bank_name",children:[Object(u.jsx)("i",{className:"fas fa-caret-right"}),Object(u.jsx)(ae.a.Label,{children:"link"}),Object(u.jsx)(ae.a.Control,{type:"text",name:"link",required:!0,minLength:"3",defaultValue:null===C||void 0===C?void 0:C.link,onChange:function onChange(e){k({type:"link",value:e.target.value})}}),Object(u.jsx)("small",{className:"text-danger",children:Y})]}),Object(u.jsx)("br",{}),Object(u.jsxs)(ae.a.Group,{className:"mb-4 col-xl-6 col-lg-6",controlId:"bank_name",children:[Object(u.jsx)(K.a,{variant:"primary",onClick:function onClick(){X()},children:"Save"})," ",Object(u.jsx)(p.b,{to:"/admin/support-board",className:"btn btn-primary",children:"List"})]})]})};function support_register_page_notifySuccess(){h.b.success("Success !",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}function support_register_page_notifyError(e){h.b.error(e||"Request Error!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}var st=[{url:"",create:function create(e){return""+Object(it.a)(e)},component:function Home(e){var t=e.services,a=e.useService,i=Object(d.a)().t,s=t.analytics,v=Object(r.useState)({user:null,kyc:null,security:null}),j=Object(o.a)(v,2),b=j[0],m=j[1],p=a(Object(c.a)({},null===l.a||void 0===l.a?void 0:l.a.FIND,null===s||void 0===s?void 0:s.user)),h=a(Object(c.a)({},null===l.a||void 0===l.a?void 0:l.a.FIND,null===s||void 0===s?void 0:s.kyc)),O=a(Object(c.a)({},null===l.a||void 0===l.a?void 0:l.a.FIND,null===s||void 0===s?void 0:s.security));return Object(r.useEffect)((function(){p.dispatchRequest({type:null===l.a||void 0===l.a?void 0:l.a.FIND,payload:{sudo:!0}}).then((function(e){var t=e.error,a=e.data;if(!t){var r=a;m((function(e){return console.log(e),Object(n.a)(Object(n.a)({},e),{},Object(c.a)({},"user",{result:r,url:"/admin/user-management"}))}))}})),O.dispatchRequest({type:null===l.a||void 0===l.a?void 0:l.a.FIND,payload:{sudo:!0}}).then((function(e){var t=e.error,a=e.data;if(!t){var r=a;m((function(e){return Object(n.a)(Object(n.a)({},e),{},Object(c.a)({},"security",{result:r,url:"/admin/auth-security-management"}))}))}})),h.dispatchRequest({type:null===l.a||void 0===l.a?void 0:l.a.FIND,payload:{sudo:!0}}).then((function(e){var t=e.error,a=e.data;if(!t){var r=a;m((function(e){return Object(n.a)(Object(n.a)({},e),{},Object(c.a)({},"kyc",{result:r,url:"/admin/user-kyc-management"}))}))}}))}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"form-head mb-sm-5 mb-3 d-flex flex-wrap align-items-center",children:Object(u.jsx)("h2",{className:"font-w600 mb-2 mr-auto ",children:i("Dashboard")})}),Object(u.jsx)("div",{className:"row",children:Object.entries(b).map((function(e,t){var a=Object(o.a)(e,2),n=a[0],r=a[1];return Object(u.jsx)("div",{className:"col-xl-4 col-xxl-4 col-lg-6 col-sm-6",children:Object(u.jsx)("div",{className:"widget-stat card",children:Object(u.jsx)("div",{className:"card-body p-4",children:Object(u.jsx)("div",{className:"media ai-icon",children:Object(u.jsxs)("div",{className:"media-body ",children:[Object(u.jsxs)("div",{className:"row justify-content-between mb-4",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("h5",{className:"text-capitalize",children:i(n).replace("_"," ")})}),Object(u.jsx)("div",{className:"col-auto"})]}),Object(u.jsx)("div",{className:"d-flex",style:{flexWrap:"wrap",gap:15},children:(null===r||void 0===r?void 0:r.result)&&Object.entries(r.result).map((function(e,t){var a=Object(o.a)(e,2),n=a[0],r=a[1];return Object(u.jsx)("div",{className:"rounded",style:{flex:"1",padding:"8px 16px",boxShadow:"0 5px 20px -10px #aaa"},children:Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)("h4",{className:"mb-0",children:r}),Object(u.jsx)("p",{className:"mb-1 truncate",children:n.replace("_"," ")})]})},t)}))})]})})})})},t)}))})]})}},{url:"me",create:function create(e){return""+Object(it.a)(e)},component:function component(){return Object(u.jsx)(u.Fragment,{children:"Admin profile page"})}},{url:"setting",create:function create(e){return"setting"+Object(it.a)(e)},component:function Setting(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{children:"Admin Dashboard Settings"})})}},{url:"admin-bank-details",create:function create(e){return"/admin-bank-details/"+Object(it.a)(e)},component:ue},{url:"user-balance",create:function create(e){return"/user-balance/"+Object(it.a)(e)},component:Oe},{url:"user-management",create:function create(e){return"/user-management/"+Object(it.a)(e)},component:se},{url:"user-permission",create:function create(e){return"/user-permission/"+Object(it.a)(e)},component:V},{url:"user-secession",create:function create(e){return"/user-secession/"+Object(it.a)(e)},component:be},{url:"user-session-history",component:he},{url:"user-kyc-management",component:Ce},{url:"user-affiliate-management",component:fe},{url:"transaction-withdrawals",component:ke},{url:"transaction-deposits",component:Ee},{url:"transaction-fee-management",component:De},{url:"adverts",component:Ae},{url:"orders",component:Re},{url:"p2p-trade-history",component:Fe},{url:"p2p-disputes",component:Be},{url:"chat-history",component:Ve},{url:"chat-messenger",component:nt},{url:"auth-security-management",component:rt},{url:"support",component:xe},{url:"support-disputes",component:null},{url:"support-board",component:xe},{url:"support-register",component:ot},{url:"currency-management",component:we}],lt=st,dt=a(663),ut=a.n(dt),vt=a(461),jt=a.n(vt),bt=a(77),mt=[{name:"dashboard",icon:"simple-speedometer",path:""},{name:"admin-bank-details",icon:"simple-credit-card",path:"admin-bank-details"},{name:"currency management",icon:"themify-glyph-125",path:"currency-management"},{name:"user-management",icon:"simple-people",path:"user-management",embedded:[{name:"users",path:"user-management"},{name:"sessions",path:"user-session-history"},{name:"permissions",path:"user-permission"},{name:"secessions",path:"user-secession"},{name:"balances",path:"user-balance"},{name:"affiliates",path:"user-affiliate-management"}]},{name:"transaction-management",icon:"simple-wallet",path:"admin-wallet-management",embedded:[{name:"deposits",path:"transaction-deposits"},{name:"withdrawals",path:"transaction-withdrawals"},{name:"fees",path:"transaction-fee-management"}]},{name:"securities-management",icon:"simple-shield",path:"securities-management",embedded:[{name:"securities",path:"auth-security-management"},{name:"kyc",path:"user-kyc-management"}]},{name:"trade-management",icon:"simple-pin",path:"advert-management",embedded:[{name:"adverts",path:"adverts"},{name:"orders",path:"orders"},{name:"trade-history",path:"p2p-trade-history"},{name:"disputes",path:"p2p-disputes"}]},{name:"chat-management",icon:"simple-bubbles",path:"chat-management",embedded:[{name:"chat-messenger",path:"chat-messenger"},{name:"chat-history",path:"chat-history"}]},{name:"support-management",icon:"simple-support",path:"support",embedded:[{name:"Support",path:"support"},{name:"disputes-resolutions",path:"support-disputes"},{name:"Support-board",path:"support-board"}]}];function MM(e){var t=e.children,a=Object(r.useRef)();return Object(r.useEffect)((function(){a.current&&new ut.a(a.current,{})}),[a]),Object(u.jsx)("div",{className:"mm-wrapper",children:Object(u.jsx)("ul",{className:"metismenu",ref:a,children:t})})}var pt=function SideBar(){var e=Object(r.useContext)(bt.a),t=e.iconHover,a=e.sidebarposition,n=e.headerposition,c=e.sidebarLayout,s=Object(r.useState)(),l=Object(o.a)(s,2),v=l[0],j=l[1],b=Object(i.h)(),m=Object(d.a)().t;Object(r.useEffect)((function(){var e=document.querySelector(".nav-control"),t=document.querySelector("#main-wrapper");e.addEventListener("click",(function toggleFunc(){return t.classList.toggle("menu-toggle")}))}),[]);var h=Object(ze.a)();return Object(r.useEffect)((function(){var e=b.location.pathname;e=e.split("/"),j(e[e.length-1])}),[b.location.pathname]),Object(u.jsx)("div",{className:"deznav ".concat(t," ").concat("fixed"===a.value&&"horizontal"===c.value&&"static"===n.value&&h>120?"fixed":""),children:Object(u.jsxs)(We.a,{className:"deznav-scroll",children:[Object(u.jsx)(MM,{className:"metismenu",id:"menu",children:mt.map((function(e,t){var a=e.name,n=e.embedded,r=void 0===n?[]:n,i=e.path,c=e.icon;return Object(u.jsxs)("li",{className:"".concat(r.length?r.includes(v)?"mm-active":"":v===i?"mm-active":""),children:[Object(u.jsxs)(p.b,{className:"".concat(r.length?"has-arrow ai-icon":""," "),to:r.length>0?"#":jt.a.normalize("/admin/".concat(i)),style:{display:"flex",gap:8},children:[Object(u.jsx)("i",{className:c}),Object(u.jsx)("span",{className:"nav-text text-capitalize",children:m(a).replace(/[-]/gi," ")})]}),r.length?Object(u.jsx)("ul",{children:r.map((function(e,t){return Object(u.jsx)("li",{children:Object(u.jsx)(p.b,{className:"".concat(v===e.path?"mm-active":""," text-capitalize"),to:jt.a.normalize("/admin/".concat(e.path)),children:m(e.name).replace(/[-]/gi," ")})},"".concat(a,"_").concat(e.path,"_").concat(t))}))}):null]},"sidebar_routes_".concat(a,"_").concat(t))}))}),Object(u.jsx)("div",{className:"copyright",children:Object(u.jsxs)("p",{children:[Object(u.jsx)("strong",{children:"CoinTC "})," \xa9 ",m("2021 All Rights Reserved")]})})]})})},ht=a.p+"static/media/logo.7305bddd.svg",Ot=function NavHeader(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],i=Object(r.useContext)(bt.a),c=i.navigationHader,s=i.openMenuToggle,l=i.background;return Object(u.jsxs)("div",{className:"nav-header",children:[Object(u.jsx)(p.b,{to:"/",className:"brand-logo",children:"dark"===l.value||"color_1"!==c?Object(u.jsx)(r.Fragment,{children:Object(u.jsx)("img",{src:ht,alt:"coninTC logo",width:"100%",height:"70"})}):Object(u.jsxs)(r.Fragment,{children:[Object(u.jsxs)("svg",{className:"logo-abbr",width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(u.jsx)("rect",{className:"svg-logo-rect",width:"50",height:"50",rx:"20",fill:"#EB8153"}),Object(u.jsx)("path",{className:"svg-logo-path",d:"M17.5158 25.8619L19.8088 25.2475L14.8746 11.1774C14.5189 9.84988 15.8701 9.0998 16.8205 9.75055L33.0924 22.2055C33.7045 22.5589 33.8512 24.0717 32.6444 24.3951L30.3514 25.0095L35.2856 39.0796C35.6973 40.1334 34.4431 41.2455 33.3397 40.5064L17.0678 28.0515C16.2057 27.2477 16.5504 26.1205 17.5158 25.8619ZM18.685 14.2955L22.2224 24.6007L29.4633 22.6605L18.685 14.2955ZM31.4751 35.9615L27.8171 25.6886L20.5762 27.6288L31.4751 35.9615Z",fill:"white"})]}),Object(u.jsx)("svg",{className:"brand-title",width:"74",height:"22",viewBox:"0 0 74 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{className:"svg-logo-path",d:"M0.784 17.556L10.92 5.152H1.176V1.12H16.436V4.564L6.776 16.968H16.548V21H0.784V17.556ZM25.7399 21.28C24.0785 21.28 22.6599 20.9347 21.4839 20.244C20.3079 19.5533 19.4025 18.6387 18.7679 17.5C18.1519 16.3613 17.8439 15.1293 17.8439 13.804C17.8439 12.3853 18.1519 11.088 18.7679 9.912C19.3839 8.736 20.2799 7.79333 21.4559 7.084C22.6319 6.37467 24.0599 6.02 25.7399 6.02C27.4012 6.02 28.8199 6.37467 29.9959 7.084C31.1719 7.79333 32.0585 8.72667 32.6559 9.884C33.2719 11.0413 33.5799 12.2827 33.5799 13.608C33.5799 14.1493 33.5425 14.6253 33.4679 15.036H22.6039C22.6785 16.0253 23.0332 16.7813 23.6679 17.304C24.3212 17.808 25.0585 18.06 25.8799 18.06C26.5332 18.06 27.1585 17.9013 27.7559 17.584C28.3532 17.2667 28.7639 16.8373 28.9879 16.296L32.7959 17.36C32.2172 18.5173 31.3119 19.46 30.0799 20.188C28.8665 20.916 27.4199 21.28 25.7399 21.28ZM22.4919 12.292H28.8759C28.7825 11.3587 28.4372 10.6213 27.8399 10.08C27.2612 9.52 26.5425 9.24 25.6839 9.24C24.8252 9.24 24.0972 9.52 23.4999 10.08C22.9212 10.64 22.5852 11.3773 22.4919 12.292ZM49.7783 21H45.2983V12.74C45.2983 11.7693 45.1116 11.0693 44.7383 10.64C44.3836 10.192 43.9076 9.968 43.3103 9.968C42.6943 9.968 42.069 10.2107 41.4343 10.696C40.7996 11.1813 40.3516 11.8067 40.0903 12.572V21H35.6103V6.3H39.6423V8.764C40.1836 7.90533 40.949 7.23333 41.9383 6.748C42.9276 6.26267 44.0663 6.02 45.3543 6.02C46.3063 6.02 47.0716 6.19733 47.6503 6.552C48.2476 6.888 48.6956 7.336 48.9943 7.896C49.3116 8.43733 49.517 9.03467 49.6103 9.688C49.7223 10.3413 49.7783 10.976 49.7783 11.592V21ZM52.7548 4.62V0.559999H57.2348V4.62H52.7548ZM52.7548 21V6.3H57.2348V21H52.7548ZM63.4657 6.3L66.0697 10.444L66.3497 10.976L66.6297 10.444L69.2337 6.3H73.8537L68.9257 13.608L73.9657 21H69.3457L66.6017 16.884L66.3497 16.352L66.0977 16.884L63.3537 21H58.7337L63.7737 13.692L58.8457 6.3H63.4657Z",fill:"black"})})]})}),Object(u.jsx)("div",{className:"nav-control",onClick:function onClick(){n(!a),s()},children:Object(u.jsxs)("div",{className:"hamburger ".concat(a?"is-active":""),children:[Object(u.jsx)("span",{className:"line"}),Object(u.jsx)("span",{className:"line"}),Object(u.jsx)("span",{className:"line"})]})})]})},ft=a(741),xt=w.IdenticonAvatar;function Header(){var e=Object(d.a)().t,t=(Object(s.b)(),Object(f.a)()),a=t.session.user,n=t.services.auth;return Object(u.jsx)("div",{className:"header",children:Object(u.jsx)("div",{className:"header-content",children:Object(u.jsx)("nav",{className:"navbar navbar-expand",children:Object(u.jsxs)("div",{className:"collapse navbar-collapse justify-content-between",children:[Object(u.jsx)("div",{className:"header-left",children:Object(u.jsx)("div",{className:"input-group search-area right d-lg-inline-flex d-none",children:Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:e("Find something here...")})})}),a?Object(u.jsx)("ul",{className:"navbar-nav header-right main-notification",children:Object(u.jsxs)(ft.a,{as:"li",className:"nav-item dropdown header-profile",children:[Object(u.jsxs)(ft.a.Toggle,{variant:"",as:"a",className:"nav-link i-false c-pointer",role:"button","data-toggle":"dropdown",children:[Object(u.jsx)(xt,{size:50,alt:"",id:null===a||void 0===a?void 0:a.id}),Object(u.jsxs)("div",{className:"header-info",children:[Object(u.jsx)("span",{style:{maxWidth:120,overflow:"hidden",display:"block",whiteSpace:"nowrap",textOverflow:"ellipsis"},title:null===a||void 0===a?void 0:a.email,children:null===a||void 0===a?void 0:a.email}),Object(u.jsx)("small",{className:"text-capitalize",children:a.access_level>2?e("Super Administrator"):e("Administrator")})]})]}),Object(u.jsx)(ft.a.Menu,{align:"right",className:"mt-2",children:Object(u.jsxs)("button",{onClick:function onClick(){return n.endSession()},className:"dropdown-item ai-icon",children:[Object(u.jsxs)("svg",{id:"icon-logout",xmlns:"http://www.w3.org/2000/svg",className:"text-danger",width:18,height:18,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[Object(u.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),Object(u.jsx)("polyline",{points:"16 17 21 12 16 7"}),Object(u.jsx)("line",{x1:21,y1:12,x2:9,y2:12})]}),Object(u.jsxs)("span",{className:"ml-2",children:[e("Logout")," "]})]})})]})}):null]})})})})}var gt=function JobieNav(e){var t=e.title,a=e.onClick,n=(e.onClick2,e.onClick3,Object(r.useState)("")),i=Object(o.a)(n,2),c=i[0],s=i[1],l=function onClick(e){return s(c===e?"":e)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ot,{}),Object(u.jsx)(Header,{onNote:function onNote(){return l("chatbox")},onNotification:function onNotification(){return l("notification")},onProfile:function onProfile(){return l("profile")},toggle:c,title:t,onBox:function onBox(){return l("box")},onClick:function onClick(){return a()}}),Object(u.jsx)(pt,{})]})};a(665),a(666),a(667);var yt=function UnderConstruction(){var e=Object(d.a)().t;return Object(u.jsx)("div",{className:!0,style:{display:"flex",flexDirection:"column",height:"100%",margin:"auto",minHeight:"85vh",justifyContent:"center"},children:Object(u.jsx)("div",{class:"row justify-content-center h-100 align-items-center",children:Object(u.jsx)("div",{class:"col-md-5",children:Object(u.jsxs)("div",{class:"form-input-content text-center error-page",children:[Object(u.jsx)("h1",{class:"error-text font-weight-bold",children:Object(u.jsx)("i",{class:"fa fa-times-circle text-danger"})}),Object(u.jsx)("h4",{children:e("Feature is currently Unavailable")})]})})})})},_t=a(63).a.user,wt=function LoginPage(e){var t=e.services,a=e.useService,n=Object(d.a)().t,r=Object(s.b)(),i=t.auth,o=a(Object(c.a)({},null===l.a||void 0===l.a?void 0:l.a.LOGIN,null===i||void 0===i?void 0:i.login),{error:login_page_notifyError}).dispatchRequest;return Object(u.jsx)(ne.b,{initialValues:{email:"",password:""},validate:function validate(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email=n("Invalid email address")):t.email=n("Email is required"),e.password||(t.password=n("Password is required")),t},onSubmit:function(){var e=Object(H.a)(z.a.mark((function _callee2(e,t){var a,n,i,c,s,d,u;return z.a.wrap((function _callee2$(v){for(;;)switch(v.prev=v.next){case 0:return a=t.setSubmitting,n=e.email,i=e.password,a(!0),v.prev=3,c=function(){var e=Object(H.a)(z.a.mark((function _callee(){return z.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({type:null===l.a||void 0===l.a?void 0:l.a.LOGIN,payload:{email:n,password:i,access_level:3}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),_callee)})));return function request(){return e.apply(this,arguments)}}(),v.next=7,r(_t.login(c));case 7:if(s=v.sent,d=s.type,u=s.data,d!==l.b.NOTICE.ERROR){v.next=12;break}throw new Error(u);case 12:v.next=17;break;case 14:v.prev=14,v.t0=v.catch(3),login_page_notifyError(null===v.t0||void 0===v.t0?void 0:v.t0.message);case 17:return v.prev=17,a(!1),v.finish(17);case 20:case"end":return v.stop()}}),_callee2,null,[[3,14,17,20]])})));return function(t,a){return e.apply(this,arguments)}}(),children:function children(e){var t=e.values,a=e.errors,r=e.touched,i=e.handleChange,c=e.handleBlur,o=e.handleSubmit,s=e.isSubmitting;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"authentication flex flex-column align-items-center justify-content-center vh-100",children:Object(u.jsx)("div",{className:"container h-100",children:Object(u.jsx)("div",{className:"row justify-content-center h-100 align-items-center",children:Object(u.jsx)("div",{className:"col-lg-6 col-sm-11",children:Object(u.jsx)("div",{className:"authincation-content",children:Object(u.jsx)("div",{className:"row no-gutters",children:Object(u.jsx)("div",{className:"col-xl-12",children:Object(u.jsxs)("div",{className:"auth-form",children:[Object(u.jsx)("div",{className:"text-center mb-3",children:Object(u.jsx)(p.b,{to:"/",children:Object(u.jsx)("img",{src:ht,alt:""})})}),Object(u.jsx)("h4",{className:"text-center mb-4 ",children:n("Admin login")}),Object(u.jsxs)("form",{onSubmit:o,children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"mb-1 ",children:Object(u.jsx)("strong",{children:n("Email")})}),Object(u.jsx)("input",{required:!0,type:"email",name:"email",onChange:i,onBlur:c,value:t.email,className:"form-control",placeholder:n("Email address")}),Object(u.jsx)("small",{className:"text-danger",children:a.email&&r.email&&a.email})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"mb-1 ",children:Object(u.jsx)("strong",{children:n("Password")})}),Object(u.jsx)("input",{type:"password",name:"password",onChange:i,onBlur:c,value:t.password,className:"form-control",placeholder:n("Password")}),Object(u.jsx)("small",{className:"text-danger",children:a.password&&r.password&&a.password})]}),Object(u.jsx)("div",{className:"form-row d-flex justify-content-between mt-4 mb-2"}),Object(u.jsx)("div",{className:"text-center",children:Object(u.jsx)("button",{disabled:s,type:"submit",className:"btn btn-primary btn-block",children:n(s?"Submitting...":"Login")})})]})]})})})})})})})})})}})};function login_page_notifyError(e){h.b.error(e||"Request Error!",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}var Nt=wt;wt.displayName="LoginPage";var Ct=a(79),kt=a(345),Dt=a.n(kt),St=[{code:"en",name:"English",country_code:"gb"},{code:"ko",name:"KOREAN",country_code:"ko"}];t.default=function AdminMarkup(){var e,t,a=Object(s.c)((function(e){return null===e||void 0===e?void 0:e.session})),c=Object(f.a)(),o=c.services,l=c.useService,v=Object(d.a)().t,j=Dt.a.get("i18next")||"en",b=St.find((function(e){return e.code===j}));return Object(r.useEffect)((function(){document.body.dir=b.dir||"ltr",document.title=v("CoinTC")}),[b,v]),o?Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{exact:!0,path:"/admin/login",children:null!==a&&void 0!==a&&a.user?(null===(e=a.user)||void 0===e?void 0:e.access_level)>1?Object(u.jsx)(i.a,{to:{pathname:"/admin"}}):Object(u.jsx)(i.a,{to:{pathname:"/"}}):Object(u.jsx)(Nt,{services:o,useService:l})}),Object(u.jsx)(i.b,{path:"/admin",children:Object(u.jsx)(AdminLayout,{children:Object(u.jsxs)(i.d,{children:[null!==a&&void 0!==a&&a.user?(null===(t=a.user)||void 0===t?void 0:t.access_level)>1?lt.map((function(e,t){var a=e.url,r=e.component;return Object(u.jsx)(i.b,{exact:!0,path:Object(vt.normalize)("/admin/".concat(a)),render:function render(e){return r?Object(u.jsx)(r,Object(n.a)({},Object(n.a)(Object(n.a)({},e),{},{services:o,useService:l}))):Object(u.jsx)(yt,{})}},t)})):Object(u.jsx)(i.a,{to:{pathname:"/"}}):Object(u.jsx)(i.a,{to:{pathname:"/admin/login"}}),Object(u.jsx)(i.b,{exact:!0,path:"/admin/",children:Object(u.jsx)(i.a,{to:{pathname:"/admin"}})}),Object(u.jsx)(i.b,{children:Object(u.jsx)(Ct.a,{})})]})})})]}):"Initializing services and session..."};function AdminLayout(e){var t=e.children,a=Object(r.useContext)(bt.a).menuToggle,n=Object(f.a)().helpers.history.location.pathname,i=(n=(n=n.split("/"))[n.length-1]).split("-").includes("page");return Object(u.jsxs)("div",{id:"".concat(i?"":"main-wrapper"),className:"".concat(i?"mh100vh":"show","  ").concat(a?"menu-toggle":""),style:{minHeight:"100vh"},children:[!i&&Object(u.jsx)(gt,{}),Object(u.jsx)("div",{className:"".concat(i?"":"content-body"),children:Object(u.jsx)("div",{className:"".concat(i?"":"container-fluid"),children:t})})]})}}}]);
//# sourceMappingURL=6.932bedf2.chunk.js.map